import{_ as M,h as a,c as o,n as q,a as t,d as A,e as w,w as P,q as _,t as v,F as p,X as be,x as $,o as ge,Y as it,Z as ce,z as ct,$ as ut,k as ee,a0 as We,b as T,R as me,r as B,f as S,p as X,j as J,K as ue,L as ke,a1 as de,C as ye,a2 as Ve,m as x,i as ie,a3 as qe,y as dt,a4 as Qe,D as pt,u as vt,G as De,E as fe,H as ht,I as re,J as _t,O as V,U as ze,S as ft,T as Ue,W as mt,M as bt,a5 as gt,l as kt,V as Y,a6 as Oe,a7 as yt,a8 as $t}from"./index-e24ad5b5.js";import{P as Ct}from"./SortableTabularList.vue_vue_type_style_index_0_scoped_c914986c_lang-d0fcbd5f.js";import{E as wt,L as It}from"./LoadingMessage-4a291b17.js";import{_ as Pt}from"./MapClient.vue_vue_type_script_setup_true_lang-117be11d.js";import{B as He}from"./BaseModal-f6fc370c.js";const St={},Tt={class:"tooltip"},xt={class:"tooltip-text"};function Et(u,e){return a(),o("span",Tt,[q(u.$slots,"default",{},void 0,!0),t("span",xt,[q(u.$slots,"text",{},void 0,!0)])])}const $e=M(St,[["render",Et],["__scopeId","data-v-5b46f6b0"]]),Rt=["href"],jt=A({__name:"PredicateCell",props:{iri:{},termType:{},id:{},qname:{},label:{},description:{},provenance:{},links:{}},setup(u){const e=u;return(s,C)=>(a(),o("th",null,[(a(),w(be(e.description?$e:"slot"),null,{text:P(()=>[_(v(e.description),1)]),default:P(()=>[t("a",{href:e.iri,target:"_blank",rel:"noopener noreferrer"},[e.label?(a(),o(p,{key:0},[_(v(e.label),1)],64)):e.qname?(a(),o(p,{key:1},[_(v(e.qname),1)],64)):(a(),o(p,{key:2},[_(v(e.iri),1)],64))],8,Rt)]),_:1}))]))}}),Nt={class:"popover-content"},At=A({__name:"Popover",setup(u){const e=$(!1),s=$(null);function C(m){e.value&&s.value&&!s.value.contains(m.target)&&(e.value=!1)}return ge(()=>{document.body.addEventListener("click",C)}),it(()=>{document.body.removeEventListener("click",C)}),(m,h)=>(a(),o("span",{class:"popover",ref_key:"popoverRef",ref:s},[t("button",{class:"popover-btn btn outline sm",onClick:h[0]||(h[0]=l=>e.value=!e.value)},[q(m.$slots,"default",{},void 0,!0),t("i",{class:ce(`fa-solid fa-chevron-${e.value?"up":"down"}`)},null,2)]),ct(t("span",Nt,[q(m.$slots,"content",{},void 0,!0)],512),[[ut,e.value]])],512))}});const Lt=M(At,[["__scopeId","data-v-faaf6231"]]),Ke=u=>(X("data-v-7bcf33e9"),u=u(),J(),u),Bt={class:"link"},Mt={key:1},Ft=["href"],Dt=Ke(()=>t("i",{class:"fa-solid fa-link"},null,-1)),zt=["href"],Ut=Ke(()=>t("i",{class:"fa-solid fa-arrow-up-right-from-square",title:"External link"},null,-1)),Ot=[Ut],Gt=A({__name:"InternalLink",props:{predicateIri:{},rows:{},id:{},value:{},termType:{},qname:{},language:{},datatype:{},label:{},description:{},provenance:{},links:{}},setup(u){const e=u,s=ee(()=>e.links?.reverse());return(C,m)=>(a(),o("div",Bt,[(a(),w(be(e.description?$e:"slot"),null,We({default:P(()=>[s.value&&s.value.length===1?(a(),w(T(me),{key:0,to:s.value[0]},{default:P(()=>[e.label?(a(),o(p,{key:0},[_(v(e.label),1)],64)):e.qname?(a(),o(p,{key:1},[_(v(e.qname),1)],64)):(a(),o(p,{key:2},[_(v(e.value),1)],64))]),_:1},8,["to"])):s.value&&s.value.length>1?(a(),o("span",Mt,[e.label?(a(),o(p,{key:0},[_(v(e.label),1)],64)):e.qname?(a(),o(p,{key:1},[_(v(e.qname),1)],64)):(a(),o(p,{key:2},[_(v(e.value),1)],64))])):(a(),o("a",{key:2,href:e.value,target:"_blank",rel:"noopener noreferrer"},[e.label?(a(),o(p,{key:0},[_(v(e.label),1)],64)):e.qname?(a(),o(p,{key:1},[_(v(e.qname),1)],64)):(a(),o(p,{key:2},[_(v(e.value),1)],64))],8,Ft))]),_:2},[e.description?{name:"text",fn:P(()=>[_(v(e.description),1)]),key:"0"}:void 0]),1024)),s.value&&s.value.length>1?(a(),w(Lt,{key:0,class:"links-btn",title:"Internal links"},{content:P(()=>[(a(!0),o(p,null,B(s.value,h=>(a(),w(T(me),{to:h,class:"link-item"},{default:P(()=>[_(v(h),1)]),_:2},1032,["to"]))),256))]),default:P(()=>[Dt]),_:1})):S("",!0),s.value?(a(),o("a",{key:1,href:e.value,target:"_blank",rel:"noopener noreferrer",class:"btn sm outline ext-link"},Ot,8,zt)):S("",!0)]))}});const Wt=M(Gt,[["__scopeId","data-v-7bcf33e9"]]),Vt=u=>(X("data-v-10ff0e60"),u=u(),J(),u),qt={class:"prop-obj"},Qt={class:"obj-value"},Ht={key:0},Kt=["href"],Xt={key:2,class:"geom-cell"},Jt=Vt(()=>t("i",{class:"fa-regular fa-clipboard"},null,-1)),Zt=[Jt],Yt={key:3},ea={class:"obj-tag"},ta={key:0,class:"badge outline",title:"Language"},aa=["href"],Ge=100,la=A({__name:"ObjectCell",props:{predicateIri:{},rows:{},id:{},value:{},termType:{},qname:{},language:{},datatype:{},label:{},description:{},provenance:{},links:{}},setup(u){const e=u,s=["http://www.opengis.net/ont/geosparql#geoJSONLiteral","http://www.opengis.net/ont/geosparql#wktLiteral"];return(C,m)=>(a(),o("div",qt,[t("div",Qt,[e.termType==="BlankNode"?(a(),o("table",Ht,[(a(!0),o(p,null,B(e.rows,h=>(a(),w(Xe,ue(ke(h)),null,16))),256))])):e.termType==="NamedNode"?(a(),w(Wt,ue(de({key:1},e)),null,16)):(a(),o(p,{key:2},[e.predicateIri==="https://schema.org/color"?(a(),o(p,{key:0},[_(v(e.value),1),e.value?(a(),o("span",{key:0,style:ye({color:e.value,marginLeft:"4px"}),class:"fa-solid fa-circle fa-2xs"},null,4)):S("",!0)],64)):e.value.startsWith("http")?(a(),o("a",{key:1,href:e.value,target:"_blank",rel:"noopener noreferrer"},v(e.value),9,Kt)):e.datatype&&s.includes(e.datatype.value)?(a(),o("div",Xt,[t("pre",null,v(e.value.length>Ge?`${e.value.slice(0,Ge)}...`:e.value),1),t("button",{class:"btn outline sm",title:"Copy geometry",onClick:m[0]||(m[0]=h=>T(Ve)(e.value))},Zt)])):e.datatype&&e.datatype.qname==="xsd:double"?(a(),o("div",Yt,v(Number(e.value)),1)):(a(),o(p,{key:4},[_(v(e.value),1)],64))],64))]),t("div",ea,[e.language?(a(),o("span",ta,v(e.language),1)):e.datatype?(a(),o("a",{key:1,href:e.datatype.value,target:"_blank",rel:"noopener noreferrer",class:"badge outline",title:"Datatype"},[e.datatype.qname?(a(),o(p,{key:0},[_(v(e.datatype.qname),1)],64)):(a(),o(p,{key:1},[_(v(e.datatype.value),1)],64))],8,aa)):S("",!0)])]))}});const sa=M(la,[["__scopeId","data-v-10ff0e60"]]),oa={class:"prop-objs"},na=A({__name:"PropRow",props:{order:{},objects:{},iri:{},termType:{},id:{},qname:{},label:{},description:{},provenance:{},links:{}},setup(u){const e=u;return(s,C)=>(a(),o("tr",null,[x(jt,{id:e.id,termType:e.termType,iri:e.iri,qname:e.qname,label:e.label,description:e.description,provenance:e.provenance},null,8,["id","termType","iri","qname","label","description","provenance"]),t("td",oa,[(a(!0),o(p,null,B(e.objects,m=>(a(),w(sa,de(m,{predIri:e.iri}),null,16,["predIri"]))),256))])]))}});const Xe=M(na,[["__scopeId","data-v-f842f9a2"]]),Ce=u=>(X("data-v-703504d9"),u=u(),J(),u),ra={class:"page-title"},ia={class:"iri"},ca=Ce(()=>t("span",{class:"badge"},"IRI",-1)),ua=["href"],da=Ce(()=>t("i",{class:"fa-regular fa-clipboard"},null,-1)),pa=[da],va={class:"type"},ha=Ce(()=>t("span",{class:"badge"},"Type",-1)),_a={class:"types"},fa=["href"],ma={key:0},ba={key:0},ga=A({__name:"PropTable",props:{item:{},properties:{},blankNodes:{},prefixes:{},hiddenPredicates:{}},setup(u){const e=u,s=$([]);function C(m){let h={};return m.forEach(l=>{var F;const{value:E,...y}=l.predicate;h[F=l.predicate.value]??(h[F]={iri:l.predicate.value,...y,order:0,objects:[]}),h[l.predicate.value].objects.push({...l.object,predicateIri:l.predicate.value,rows:l.object.termType==="BlankNode"?C(e.blankNodes.filter(Z=>Z.subject.id===l.object.id)):[]})}),Object.values(h).sort((l,E)=>l.order-E.order)}return ge(()=>{const m=e.properties.filter(h=>!e.hiddenPredicates.includes(h.predicate.value));s.value=C(m)}),(m,h)=>(a(),o(p,null,[t("h1",ra,[_(v(e.item.title||e.item.iri)+" ",1),t("small",ia,[ca,t("a",{href:e.item.iri,target:"_blank",rel:"noopener noreferrer"},v(e.item.iri),9,ua),t("button",{class:"btn outline sm",title:"Copy IRI",onClick:h[0]||(h[0]=l=>T(Ve)(e.item.iri))},pa)]),t("small",va,[ha,t("div",_a,[(a(!0),o(p,null,B(e.item.types,(l,E)=>(a(),o(p,null,[(a(),w(be(l.description?$e:"slot"),null,{text:P(()=>[_(v(l.description),1)]),default:P(()=>[t("a",{href:l.value,target:"_blank",rel:"noopener noreferrer"},[l.label?(a(),o(p,{key:0},[_(v(l.label),1)],64)):l.qname?(a(),o(p,{key:1},[_(v(l.qname),1)],64)):(a(),o(p,{key:2},[_(v(l.value),1)],64))],8,fa)]),_:2},1024)),E<e.item.types.length-1?(a(),o("span",ma,", ")):S("",!0)],64))),256))])])]),q(m.$slots,"map",{},void 0,!0),e.item.description?(a(),o("p",ba,[t("em",null,v(e.item.description),1)])):S("",!0),t("table",null,[q(m.$slots,"top",{},void 0,!0),(a(!0),o(p,null,B(s.value,l=>(a(),w(Xe,ue(ke(l)),null,16))),256)),q(m.$slots,"bottom",{},void 0,!0)])],64))}});const ka=M(ga,[["__scopeId","data-v-703504d9"]]),ya={class:"concept-top"},$a={key:1,class:"concept-left"},Ca=A({__name:"ConceptComponent",props:{baseUrl:{},collapseAll:{type:Boolean},parentPath:{},doNarrowerEmits:{type:Boolean},iri:{},title:{},link:{},childrenCount:{},children:{},narrower:{},broader:{},color:{}},emits:["getNarrowers"],setup(u,{emit:e}){const s=u,C=ie(qe),m=$(!0),h=ee(()=>s.parentPath===""?s.iri:`${s.parentPath}|${s.iri}`);dt(()=>s.collapseAll,(y,F)=>{m.value=y});function l(){m.value&&s.children.length===0&&s.childrenCount>0&&s.doNarrowerEmits&&e("getNarrowers",{iriPath:h.value,link:s.link,page:1}),m.value=!m.value}function E(){e("getNarrowers",{iriPath:h.value,link:s.link,page:Math.round(s.children.length/C)+1})}return(y,F)=>{const Z=Qe("ConceptComponent",!0);return a(),o(p,null,[t("div",ya,[s.childrenCount>0?(a(),o("button",{key:0,class:"concept-left btn outline",onClick:l},[t("i",{class:ce(`fa-regular fa-${m.value?"plus":"minus"}`)},null,2)])):(a(),o("div",$a)),x(T(me),{class:"concept",to:s.link},{default:P(()=>[_(v(s.title||s.iri),1)]),_:1},8,["to"]),_(),s.color?(a(),o("span",{key:2,style:ye({color:s.color}),class:"fa-solid fa-circle fa-2xs"},null,4)):S("",!0)]),s.childrenCount>0?(a(),o("div",{key:0,class:ce(`concept-children ${m.value?"collapse":""}`)},[(a(!0),o(p,null,B(s.children,i=>(a(),w(Z,de(i,{baseUrl:s.baseUrl,collapseAll:s.collapseAll,parentPath:h.value,onGetNarrowers:F[0]||(F[0]=te=>e("getNarrowers",te)),doNarrowerEmits:s.doNarrowerEmits}),null,16,["baseUrl","collapseAll","parentPath","doNarrowerEmits"]))),256)),s.children.length>0&&s.childrenCount>s.children.length&&s.doNarrowerEmits?(a(),o("button",{key:0,class:"btn outline sm",onClick:E,style:{marginLeft:"26px"}}," Load more ")):S("",!0)],2)):S("",!0)],64)}}});const wa=M(Ca,[["__scopeId","data-v-a15d0f1e"]]),Ia={class:"circle-overlay"},Pa={class:"circle-value"},Sa={key:1,class:"fa-solid fa-check"},Ta=A({__name:"CircleProgress",props:{value:{},max:{},percentage:{},label:{},tickWhenComplete:{type:Boolean},gradient:{type:Boolean}},setup(u){const e=u,s=ee(()=>e.value!==void 0&&e.max!==void 0?e.value/e.max*100:e.percentage!==void 0?e.percentage:0),C=ee(()=>s.value<34?"230, 0, 0":s.value<=80?"255, 165, 0":s.value<100?"175, 230, 0":s.value==100?"0, 230, 38":"128, 128, 128"),m=ee(()=>`${s.value===100?130:75*s.value/100}, 100%, 45%`);return(h,l)=>(a(),o("div",{class:ce("circle-progress"),style:ye({background:`conic-gradient(${e.gradient?`hsl(${m.value}`:`rgb(${C.value}`}) ${s.value}%, 0, ${e.gradient?`hsla(${m.value}`:`rgba(${C.value}`}, 0.2) ${100-s.value}%)`})},[t("div",Ia,[t("span",Pa,[e.label?(a(),o(p,{key:0},[_(v(e.label),1)],64)):e.tickWhenComplete&&s.value===100?(a(),o("i",Sa)):e.value!==void 0&&e.max!==void 0?(a(),o(p,{key:2},[_(v(e.value)+"/"+v(e.max),1)],64)):e.percentage!==void 0?(a(),o(p,{key:3},[_(v(e.percentage)+"%",1)],64)):S("",!0)])])],4))}});const D=M(Ta,[["__scopeId","data-v-90bfb0c3"]]),N=u=>(X("data-v-f7fa04e6"),u=u(),J(),u),xa={class:"fair-scores"},Ea={class:"score-title"},Ra=N(()=>t("h5",null,"FAIR Score",-1)),ja=N(()=>t("i",{class:"fa-regular fa-circle-info"},null,-1)),Na=[ja],Aa={class:"circles"},La={class:"circle"},Ba={class:"circle-name"},Ma=N(()=>t("h3",null,"FAIR Scores",-1)),Fa=N(()=>t("p",null,[_("In 2016, the "),t("a",{href:"https://doi.org/10.1038/sdata.2016.18",target:"_blank",rel:"noopener noreferrer"},"'FAIR Guiding Principles for scientific data management and stewardship'"),_(" were published in the open-access journal, Scientific Data. The authors intended to provide guidelines to improve the Findability, Accessibility, Interoperability, and Reuse of digital assets.")],-1)),Da=N(()=>t("p",null,[_("The principles are set out in full on the "),t("a",{href:"https://www.go-fair.org/fair-principles/",target:"_blank",rel:"noopener noreferrer"},"GO FAIR website"),_(". ARDC also offers comprehensive "),t("a",{href:"https://ardc.edu.au/resource/fair-data/",target:"_blank",rel:"noopener noreferrer"},"information and training"),_(". The FAIR Principles refer to three types of entities: data, metadata and infrastructure. ")],-1)),za={class:"score-details"},Ua={class:"score-detail"},Oa={class:"score-detail-title"},Ga=N(()=>t("h4",null,"F - Findable",-1)),Wa=N(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Metadata and data should be easy to find for both humans and computers.")],-1)),Va={class:"score-detail"},qa={class:"score-detail-title"},Qa=N(()=>t("h4",null,"A - Accessible",-1)),Ha=N(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Once data is found, access information needs to be clearly indicated on the metadata.")],-1)),Ka={class:"score-detail"},Xa={class:"score-detail-title"},Ja=N(()=>t("h4",null,"I - Interoperable",-1)),Za=N(()=>t("div",{class:"score-detail-desc"},[t("p",null,"The data should be able to be integrated with other data.")],-1)),Ya={class:"score-detail"},el={class:"score-detail-title"},tl=N(()=>t("h4",null,"R - Reusable",-1)),al=N(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Metadata and data should be well-described so that they can be replicated and/or combined in different settings.")],-1)),ll=A({__name:"FairScore",props:{score:{}},setup(u){const e=u,s={f:17,a:10,i:8,r:7},C=$(!1);return(m,h)=>(a(),o(p,null,[t("div",xa,[t("div",Ea,[Ra,t("button",{class:"btn outline",onClick:h[0]||(h[0]=l=>C.value=!0),title:"Show details"},Na)]),t("div",Aa,[(a(),o(p,null,B("fair",l=>t("div",La,[x(D,{value:e.score[l],max:s[l],tickWhenComplete:""},null,8,["value","max"]),t("div",Ba,v(l.toUpperCase()),1)])),64))])]),C.value?(a(),w(He,{key:0,onModalClosed:h[1]||(h[1]=l=>C.value=!1)},{headerMiddle:P(()=>[Ma]),default:P(()=>[Fa,Da,t("div",za,[t("div",Ua,[t("div",Oa,[x(D,{value:e.score.f,max:s.f},null,8,["value","max"]),Ga]),Wa]),t("div",Va,[t("div",qa,[x(D,{value:e.score.a,max:s.a},null,8,["value","max"]),Qa]),Ha]),t("div",Ka,[t("div",Xa,[x(D,{value:e.score.i,max:s.i},null,8,["value","max"]),Ja]),Za]),t("div",Ya,[t("div",el,[x(D,{value:e.score.r,max:s.r},null,8,["value","max"]),tl]),al])])]),_:1})):S("",!0)],64))}});const sl=M(ll,[["__scopeId","data-v-f7fa04e6"]]),L=u=>(X("data-v-21e18f40"),u=u(),J(),u),ol={class:"care-scores"},nl={class:"score-title"},rl=L(()=>t("h5",null,"CARE Score",-1)),il=L(()=>t("i",{class:"fa-regular fa-circle-info"},null,-1)),cl=[il],ul={class:"circles"},dl={class:"circle"},pl={class:"circle-name"},vl=L(()=>t("h3",null,"CARE Scores",-1)),hl=L(()=>t("p",null,[_("The CARE principles, developed by the "),t("a",{href:"https://www.gida-global.org/care",target:"_blank",rel:"noopener noreferrer"},"Global Indigenous Data Alliance (GIDA)"),_(", reflect the crucial role of data in advancing Indigenous innovation and self-determination. They ensure that data movements like the open data movement, whatever they're advocating and pursuing, respect the people and purpose behind the data.")],-1)),_l={class:"score-details"},fl={class:"score-detail"},ml={class:"score-detail-title"},bl=L(()=>t("h4",null,"C - Collective Benefit",-1)),gl=L(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Data ecosystems shall be designed and function in ways that enable Indigenous Peoples to derive benefit from the data.")],-1)),kl={class:"score-detail"},yl={class:"score-detail-title"},$l=L(()=>t("h4",null,"A - Authority to Control",-1)),Cl=L(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Indigenous Peoples' rights and interests in Indigenous data must be recognised and their authority to control such data be empowered.")],-1)),wl={class:"score-detail"},Il={class:"score-detail-title"},Pl=L(()=>t("h4",null,"R - Responsibility",-1)),Sl=L(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Those working with Indigenous data have a responsibility to share how those data are used to support Indigenous Peoples' self-determination and collective benefit.")],-1)),Tl={class:"score-detail"},xl={class:"score-detail-title"},El=L(()=>t("h4",null,"E - Ethics",-1)),Rl=L(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Indigenous Peoples' rights and wellbeing should be the primary concern at all stages of the data life cycle and across the data ecosystem.")],-1)),jl=A({__name:"CareScore",props:{score:{}},setup(u){const e=u,s={c:8,a:9,r:9,e:3},C=$(!1);return(m,h)=>(a(),o(p,null,[t("div",ol,[t("div",nl,[rl,t("button",{class:"btn outline",onClick:h[0]||(h[0]=l=>C.value=!0),title:"Show details"},cl)]),t("div",ul,[(a(),o(p,null,B("care",l=>t("div",dl,[x(D,{value:e.score[l],max:s[l],tickWhenComplete:""},null,8,["value","max"]),t("div",pl,v(l.toUpperCase()),1)])),64))])]),C.value?(a(),w(He,{key:0,onModalClosed:h[1]||(h[1]=l=>C.value=!1)},{headerMiddle:P(()=>[vl]),default:P(()=>[hl,t("div",_l,[t("div",fl,[t("div",ml,[x(D,{value:e.score.c,max:s.c},null,8,["value","max"]),bl]),gl]),t("div",kl,[t("div",yl,[x(D,{value:e.score.a,max:s.a},null,8,["value","max"]),$l]),Cl]),t("div",wl,[t("div",Il,[x(D,{value:e.score.r,max:s.r},null,8,["value","max"]),Pl]),Sl]),t("div",Tl,[t("div",xl,[x(D,{value:e.score.e,max:s.e},null,8,["value","max"]),El]),Rl])])]),_:1})):S("",!0)],64))}});const Nl=M(jl,[["__scopeId","data-v-21e18f40"]]),Al=A({__name:"ScoreWidget",props:{score:{},name:{}},setup(u){const e=u;return(s,C)=>e.name==="fair"?(a(),w(sl,{key:0,score:s.score},null,8,["score"])):e.name==="care"?(a(),w(Nl,{key:1,score:s.score},null,8,["score"])):S("",!0)}}),we=u=>(X("data-v-6c64dcf4"),u=u(),J(),u),Ll=we(()=>t("th",null,"Concepts",-1)),Bl={class:"concepts"},Ml=we(()=>t("i",{class:"fa-regular fa-plus"},null,-1)),Fl=we(()=>t("i",{class:"fa-regular fa-minus"},null,-1)),Dl=5,zl=A({__name:"PropTableView",setup(u){const{namedNode:e,literal:s}=mt,C=ie(bt),m=ie(gt),h=ie(qe),l=pt(),E=vt(),{store:y,prefixes:F,parseIntoStore:Z,qnameToIri:i,iriToQname:te}=De(),{store:Q,parseIntoStore:Ie,qnameToIri:U,clearStore:Pe}=De(),{loading:Se,error:pe,apiGetRequest:Je}=fe(),{loading:Ul,error:Ze,apiGetRequest:Ye}=fe(),{loading:Ol,error:Te,apiGetRequest:xe}=fe(),et=[i("geo:hasBoundingBox"),i("geo:hasGeometry")],tt=[i("rdfs:member"),i("skos:member"),i("dcterms:hasPart")],f=$({}),ve=$([]),O=$([]),he=$([]),Ee=$([]),ae=$(!0),_e=$([]),W=$(!1),le=$(!1),G=$(null),H=$(!1),se=$({}),Re=$(""),oe=$([i("a"),i("dcterms:identifier"),i("prez:count"),i("prez:childrenCount"),i("prez:link"),"https://linked.data.gov.au/def/scores/hasScore"]),je=$(null),R=$({showChildren:!1,childrenTitle:"",showButton:!1,buttonTitle:"",buttonLink:""}),ne=$(!1),Ne=$({}),K=$(!1),Ae=$({});function j(n){switch(f.value.baseClass=n,n){case i("dcat:Catalog"):H.value=!0,se.value={catalog:f.value.iri},R.value={showChildren:!1,showButton:!0,childrenTitle:"Resources",buttonTitle:"Resources",buttonLink:"/resources"};break;case i("dcat:Resource"):break;case i("dcat:Dataset"):H.value=!0,se.value={dataset:f.value.iri},R.value={showChildren:!1,showButton:!0,childrenTitle:"Members",buttonTitle:"Collections",buttonLink:"/collections"};break;case i("geo:FeatureCollection"):H.value=!0,se.value={collection:f.value.iri},R.value={showChildren:!1,showButton:!0,childrenTitle:"Members",buttonTitle:"Features",buttonLink:"/items"};break;case i("geo:Feature"):break;case i("skos:ConceptScheme"):H.value=!0,se.value={vocab:f.value.iri},oe.value.push(i("skos:hasTopConcept")),R.value.showChildren=!0;break;case i("skos:Collection"):H.value=!0,R.value={...R.value,showChildren:!0,childrenTitle:"Concepts"};break;case i("skos:Concept"):break;case i("prof:Profile"):break}}async function at(){y.value.forEach(n=>{if(tt.includes(n.predicate.value))Re.value=n.predicate.value,oe.value.push(n.predicate.value);else if(n.predicate.value===i("a")){const d=V(n.object.value,y.value),c=ze(n.object.value,y.value),r=te(n.object.value);f.value.types.push({value:n.object.value,qname:r!==""?r:void 0,label:d,description:c})}else et.includes(n.predicate.value)?y.value.forEach(d=>{_e.value.push({label:f.value.title?f.value.title:f.value.iri,fcLabel:"",wkt:d.object.value,uri:f.value.iri,link:`/object?uri=${f.value.iri}`})},n.object,e(i("geo:asWKT")),null,null):n.predicate.value==="https://linked.data.gov.au/def/scores/hasScore"&&m&&!ne.value?ne.value=!0:n.predicate.value===i("prez:childrenCount")&&(f.value.childrenCount=Number(n.object.value));if(!W.value){const d=Me(n,y.value,F.value);he.value.push(d);let c=0;Fe(n,y.value,c,F.value)}},e(f.value.iri),null,null,null),ne.value&&lt()}function Le(n,d=!1){const c={};return y.value.forObjects(r=>{y.value.forEach(g=>{y.value.forObjects(I=>{y.value.forEach(b=>{const k=b.predicate.value.match(`https://linked.data.gov.au/def/scores/${n}([A-Z]){1}Score${d?"Normalised":""}`);k&&(c[k[1].toLowerCase()]=Number(b.object.value))},I,null,null,null)},g.subject,e("http://purl.org/linked-data/cube#observation"),null)},r,e(i("a")),e(`https://linked.data.gov.au/def/scores/${$t(n)}Score${d?"Normalised":""}`),null)},e(f.value.iri),e("https://linked.data.gov.au/def/scores/hasScore"),null),c}function lt(){Ne.value={fair:Le("fair"),care:Le("care")}}function st(){let n=[];const d=l.path.split("/").slice(1,-1);d.forEach(r=>{const g=y.value.getQuads(null,e(i("dcterms:identifier")),s(r,e(i("prez:identifier"))),null);if(g.length>0){let I={id:r,uri:g[0].subject.value};I.title=V(g[0].subject.value,y.value),n.push(I)}});let c=[];if(le.value)c.push({name:"Get Object by URI",url:"/object"});else{G.value&&c.push({name:kt(G.value)+" Home",url:`/${G.value[0].toLowerCase()}`});let r=!1;d.forEach((g,I)=>{if(r){r=!1;return}switch(g){case"catalogs":c.push({name:"Catalogs",url:"/c/catalogs"}),I+1!==d.length&&(c.push({name:n[0].title||n[0].uri,url:`/c/catalogs/${l.params.catalogId}`}),r=!0);break;case"resources":c.push({name:"Resources",url:`/c/catalogs/${l.params.catalogId}/resources`});break;case"datasets":c.push({name:"Datasets",url:"/s/datasets"}),I+1!==d.length&&(c.push({name:n[0].title||n[0].uri,url:`/s/datasets/${l.params.datasetId}`}),r=!0);break;case"collections":c.push({name:"Feature Collections",url:`/s/datasets/${l.params.datasetId}/collections`}),I+1!==d.length&&(c.push({name:n[1].title||n[1].uri,url:`/s/datasets/${l.params.datasetId}/collections/${l.params.featureCollectionId}`}),r=!0);break;case"items":c.push({name:"Features",url:`/s/datasets/${l.params.datasetId}/collections/${l.params.featureCollectionId}/items`});break;case"vocab":c.push({name:"Vocabularies",url:"/v/vocab"}),I+1!==d.length&&(c.push({name:n[0].title||n[0].uri,url:`/v/vocab/${l.params.vocabId}`}),r=!0);break;case"collection":c.push({name:"Collections",url:"/v/collection"}),I+1!==d.length&&(c.push({name:n[0].title||n[0].uri,url:`/v/collection/${l.params.collectionId}`}),r=!0);break;case"profiles":c.push({name:"Profiles",url:`${G.value?G.value[0].toLowerCase():""}/profiles`});break}})}return c.push({name:f.value.title||f.value.iri,url:l.path}),W.value&&c.push({name:"Alternate Profiles",url:`${l.path}?_profile=${re}`}),c}async function ot(){f.value.baseClass===i("skos:ConceptScheme")?K.value?nt():Be():(y.value.forObjects(n=>{let d={iri:n.id,extras:{}};d.title=V(n.value,y.value);const c=[];if(y.value.forEach(r=>{r.predicate.value===i("prez:link")?c.push(r.object.value):r.predicate.value===i("a")&&(d.baseClass=r.object.value)},n,null,null,null),c.length>1){let r=c.filter(g=>g.startsWith(l.path));r.length>0?d.link=r[0]:d.link=c[0]}else c.length===1&&(d.link=c[0]);ve.value.push(d)},e(f.value.iri),e(Re.value),null),ve.value.sort(Y))}async function nt(){let n=[];y.value.forSubjects(b=>{let k={iri:b.id,narrower:[],broader:"",title:"",link:"",childrenCount:0,children:[]};k.title=V(b.value,y.value),y.value.forEach(z=>{z.predicate.value===i("prez:link")&&z.object.value.startsWith(l.path)?k.link=z.object.value:z.predicate.value===i("skos:narrower")?k.narrower.push(z.object.value):z.predicate.value===i("skos:broader")&&(k.broader=z.object.value)},b,null,null,null),k.childrenCount=k.narrower.length,n.push(k)},e(i("skos:inScheme")),e(f.value.iri),null);const d=y.value.getObjects(e(f.value.iri),e(i("skos:hasTopConcept")),null).map(b=>b.id),c=y.value.getSubjects(e(i("skos:topConceptOf")),e(f.value.iri),null).map(b=>b.id),r=[...new Set([...d,...c])],g=n.reduce((b,k,z)=>(b[k.iri]=z,b),{});let I=[];n.forEach(b=>{b.narrower.length>0&&b.narrower.forEach(k=>{n[g[k]].broader=b.iri})}),n.forEach(b=>{if(r.includes(b.iri)){I.push(b);return}if(b.broader&&b.broader!==""){const k=n[g[b.broader]];k.children=[...k.children||[],b].sort(Y),k.childrenCount=k.children.length}}),I.sort(Y),O.value=I}async function Be(n=1){Pe();const{data:d}=await xe(`${l.path}/top-concepts?page=${n}&per_page=${h}`);d&&!Te.value&&(Ie(d),Q.value.forObjects(c=>{let r={iri:c.id,title:"",link:"",childrenCount:0,children:[],color:""};r.title=V(c.value,Q.value),Q.value.forEach(g=>{g.predicate.value===U("prez:link")?r.link=g.object.value:g.predicate.value===U("prez:childrenCount")?r.childrenCount=Number(g.object.value):g.predicate.value===U("sdo:color")&&(r.color=g.object.value)},c,null,null,null),O.value.push(r)},e(f.value.iri),e(U("skos:hasTopConcept")),null),O.value.sort(Y))}async function rt({iriPath:n,link:d,page:c=1}){let r;n.split("|").forEach((I,b)=>{b===0?r=O.value.find(k=>k.iri===I):r=r.children.find(k=>k.iri===I)}),Pe();const{data:g}=await xe(`${d}/narrowers?page=${c}&per_page=${h}`);g&&!Te.value&&(Ie(g),Q.value.forObjects(I=>{let b={iri:I.id,title:"",link:"",childrenCount:0,children:[],color:""};b.title=V(I.value,Q.value),Q.value.forEach(k=>{k.predicate.value===U("prez:link")?b.link=k.object.value:k.predicate.value===U("prez:childrenCount")?b.childrenCount=Number(k.object.value):k.predicate.value===U("sdo:color")&&(b.color=k.object.value)},I,null,null,null),r.children.push(b)},e(r.iri),e(U("skos:narrower")),null),r.children.sort(Y))}function Me(n,d,c){return{subject:n.subject,predicate:Oe(n.predicate,d,c),object:Oe(n.object,d,c)}}function Fe(n,d,c,r){n.object instanceof yt&&(c++,d.forEach(g=>{const I=Me(g,d,r);Ee.value.push(I),c<Dl&&Fe(g,d,c,r)},n.object,null,null,null))}return ht(()=>{l.path.startsWith("/c/")?(G.value="CatPrez",l.path.match(/c\/profiles\/.+/)?j(i("prof:Profile")):l.path.match(/c\/catalogs\/.+\/resources\/.+/)?j(i("dcat:Resource")):l.path.match(/c\/catalogs\/.+/)&&j(i("dcat:Catalog"))):l.path.startsWith("/s/")?(G.value="SpacePrez",l.path.match(/s\/profiles\/.+/)?j(i("prof:Profile")):l.path.match(/s\/datasets\/.+\/collections\/.+\/items\/.+/)?j(i("geo:Feature")):l.path.match(/s\/datasets\/.+\/collections\/.+/)?j(i("geo:FeatureCollection")):l.path.match(/s\/datasets\/.+/)&&j(i("dcat:Dataset"))):l.path.startsWith("/v/")?(G.value="VocPrez",l.path.match(/v\/profiles\/.+/)?j(i("prof:Profile")):l.path.match(/v\/vocab\/.+\/.+/)||l.path.match(/v\/collection\/.+\/.+/)?j(i("skos:Concept")):l.path.match(/v\/vocab\/.+/)?j(i("skos:ConceptScheme")):l.path.match(/v\/collection\/.+/)&&j(i("skos:Collection"))):l.path.startsWith("/profiles/")?j(i("prof:Profile")):l.path.startsWith("/object")&&(le.value=!0),l.query._profile===re&&!l.query._mediatype&&(W.value=!0)}),ge(async()=>{if(Se.value=!0,f.value.baseClass===i("skos:ConceptScheme")){const{data:r}=await Ye(`/count?curie=${l.path.split("/").slice(-1)[0]}&inbound=${encodeURIComponent(i("skos:inScheme"))}`);r&&!Ze.value&&parseInt(r.replace('"',""))<=h&&(K.value=!0)}let n="";K.value?n=`${l.path}/all${window.location.search}`:n=l.fullPath,Object.keys(l.query).length>0&&W.value&&(n=n.replace(`_profile=${re}`,""));const{data:d,profiles:c}=await Je(n);if(d&&c.length>0&&!pe.value){je.value=E.profiles[c.find(g=>g.current).uri],l.query&&l.query._profile&&(l.query._mediatype||![je.value.token,re].includes(l.query._profile))&&window.location.replace(`${C}${l.path}?_profile=${l.query._profile}${l.query._mediatype?`&_mediatype=${l.query._mediatype}`:""}`),E.rightNavConfig={enabled:!W.value,profiles:c,currentUrl:l.path},Z(d);const r=le.value?e(l.query.uri):y.value.getSubjects(e(i("a")),e(f.value.baseClass),null)[0];f.value.iri=r.value,f.value.types=[],Ae.value={containerUri:r.value,containerBaseClass:te(f.value.baseClass)},await _t(),oe.value.push(...E.annotationPredicates.label,...E.annotationPredicates.description),f.value.title=V(f.value.iri,y.value),f.value.description=ze(f.value.iri,y.value),W.value||(at(),R.value.showChildren&&ot()),document.title=f.value.title?`${f.value.title} | Prez`:"Prez",E.breadcrumbs=st()}}),(n,d)=>{const c=Qe("RouterLink");return W.value?(a(),w(Ct,{key:0})):(a(),o(p,{key:1},[he.value.length>0?(a(),w(ka,{key:0,item:f.value,properties:he.value,blankNodes:Ee.value,prefixes:T(F),hiddenPredicates:oe.value},We({map:P(()=>[_e.value.length?(a(),w(Pt,{key:0,ref:"searchMapRef","geo-w-k-t":_e.value},null,8,["geo-w-k-t"])):S("",!0)]),_:2},[f.value.baseClass===T(i)("skos:ConceptScheme")?{name:"bottom",fn:P(()=>[t("tr",null,[Ll,t("td",null,[t("div",Bl,[K.value?(a(),o("button",{key:0,id:"collapse-all-btn",onClick:d[0]||(d[0]=r=>ae.value=!ae.value),class:"btn"},[ae.value?(a(),o(p,{key:0},[Ml,_(" Expand all")],64)):(a(),o(p,{key:1},[Fl,_(" Collapse all")],64))])):S("",!0),(a(!0),o(p,null,B(O.value,r=>(a(),w(wa,de(r,{baseUrl:T(l).path,collapseAll:ae.value,parentPath:"",doNarrowerEmits:!K.value,onGetNarrowers:d[1]||(d[1]=g=>rt(g))}),null,16,["baseUrl","collapseAll","doNarrowerEmits"]))),256))]),!K.value&&O.value.length>0&&f.value.childrenCount>O.value.length?(a(),o("button",{key:0,class:"btn outline sm",onClick:d[2]||(d[2]=r=>Be(Math.round(O.value.length/T(h))+1)),style:{marginLeft:"26px"}}," Load more ")):S("",!0)])])]),key:"0"}:R.value.showChildren?{name:"bottom",fn:P(()=>[t("tr",null,[t("th",null,v(R.value.childrenTitle),1),t("td",null,[t("div",{class:"children-list"},[(a(!0),o(p,null,B(ve.value,r=>(a(),w(c,{to:r.link||""},{default:P(()=>[_(v(r.title||r.iri),1)]),_:2},1032,["to"]))),256))])])])]),key:"1"}:R.value.showButton&&!le.value?{name:"bottom",fn:P(()=>[t("tr",null,[t("th",null,v(R.value.childrenTitle),1),t("td",null,[x(c,{to:`${T(l).path}${R.value.buttonLink}`,class:"btn"},{default:P(()=>[_(v(R.value.buttonTitle),1)]),_:1},8,["to"])])])]),key:"2"}:void 0]),1032,["item","properties","blankNodes","prefixes","hiddenPredicates"])):T(Se)?(a(),w(It,{key:1})):T(pe)?(a(),w(wt,{key:2,message:T(pe)},null,8,["message"])):S("",!0),H.value?(a(),w(Ue,{key:3,to:"#search-teleport"},[x(ft,ue(ke(Ae.value)),null,16)])):S("",!0),T(m)&&ne.value?(a(),w(Ue,{key:4,to:"#score-teleport"},[(a(!0),o(p,null,B(Object.entries(Ne.value),([r,g])=>(a(),w(Al,{name:r,score:g},null,8,["name","score"]))),256))])):S("",!0)],64))}}});const Hl=M(zl,[["__scopeId","data-v-6c64dcf4"]]);export{Hl as default};
