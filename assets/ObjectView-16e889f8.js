import{d as z,D as B,u as G,G as C,E as D,x as R,o as F,B as M,J as A,O as g,Q,c as i,b as u,q as L,F as d,a,t as r,r as y,f as T,e as m,V as H,h as t,w as J,R as K,p as W,j as X,_ as Y}from"./index-b30f1d84.js";import{E as S,L as Z}from"./LoadingMessage-e2ab0b21.js";const _=h=>(W("data-v-e0167ccd"),h=h(),X(),h),$=_(()=>a("h1",{class:"page-title"},"Get Object by URI",-1)),ee={key:0},te=_(()=>a("code",null,"?uri=https://some.uri.here",-1)),se=_(()=>a("p",null,"Multiple links for this object were found. Please select one of the links below:",-1)),ae={class:"object-heading"},le={class:"object-title"},ie={class:"object-types"},ne={class:"badge"},oe={key:0},ue=_(()=>a("p",null,"Links:",-1)),re={class:"links"},ce={class:"parent"},de={class:"badge"},pe=_(()=>a("div",{class:"separator"},">",-1)),ve={class:"object"},_e={class:"badge"},he=z({__name:"ObjectView",setup(h){const{namedNode:p}=H,o=B(),j=G(),{store:n,parseIntoStore:U,qnameToIri:v}=C(),{loading:V,error:k,apiGetRequest:E}=D();R(null);const s=R({}),c=R([]);return F(async()=>{if(o.query&&o.query.uri){const{data:I,profiles:N}=await E(o.fullPath);if(I&&!k.value){U(I);const l=p(o.query.uri);c.value=n.value.getObjects(l,p(v("prez:link")),null).map(e=>e.value),c.value.length===1?M.push(c.value[0]):c.value.length>1&&(s.value={iri:l.value,links:[],types:[]},await A(),s.value.title=g(l.value,n.value),s.value.description=Q(l.value,n.value),n.value.forEach(e=>{if(e.predicate.value===v("a"))s.value.types.push({iri:e.object.value,title:g(e.object.value,n.value)});else if(e.predicate.value===v("prez:link")){const b=n.value.getQuads(null,p(v("dcterms:identifier")),null,null).filter(f=>e.object.value.includes(f.object.value));if(b.length===1){let f=b[0].subject.value,w=b[0].object.value,P=e.object.value.split(w)[0]+w;const q=g(b[0].subject.value,n.value);let O=[];n.value.getObjects(p(f),p(v("a")),null).forEach(x=>{O.push({iri:x.value,title:g(x.value,n.value)})}),s.value.links.push({parentIri:f,parentLink:P,parentTypes:O,parentTitle:q,link:e.object.value})}}},l,null,null,null))}}j.rightNavConfig={enabled:!1},document.title="Get Object by URI | Prez",j.pageHeading={name:"Prez",url:"/"},j.breadcrumbs=[{name:"Get Object by URI",url:"/object"}]}),(I,N)=>(t(),i(d,null,[$,!u(o).query||!u(o).query.uri?(t(),i("p",ee,[L("This page can be used to find objects by their URI (Uniform Resource Identifier) by adding "),te,L(" (for example) to the end of this page's URL.")])):c.value.length>1?(t(),i(d,{key:1},[se,a("div",ae,[a("h2",le,r(s.value.title||s.value.iri),1),a("div",ie,[(t(!0),i(d,null,y(s.value.types,l=>(t(),i("span",ne,r(l.title||l.iri),1))),256))])]),s.value.description?(t(),i("p",oe,[a("em",null,r(s.value.description),1)])):T("",!0),ue,a("div",re,[(t(!0),i(d,null,y(s.value.links,l=>(t(),m(u(K),{class:"link",to:l.link},{default:J(()=>[a("div",ce,[a("h4",null,r(l.parentTitle||l.parentIri),1),(t(!0),i(d,null,y(l.parentTypes,e=>(t(),i("span",de,r(e.title||e.iri),1))),256))]),pe,a("div",ve,[a("h4",null,r(s.value.title||s.value.iri),1),(t(!0),i(d,null,y(s.value.types,e=>(t(),i("span",_e,r(e.title||e.iri),1))),256))])]),_:2},1032,["to"]))),256))])],64)):u(V)?(t(),m(Z,{key:2})):u(k)?(t(),m(S,{key:3,message:u(k)},null,8,["message"])):u(o).query&&u(o).query.uri&&c.value.length===0?(t(),m(S,{key:4,message:"Not Found: This resource contains no links within Prez"})):T("",!0)],64))}});const ge=Y(he,[["__scopeId","data-v-e0167ccd"]]);export{ge as default};
