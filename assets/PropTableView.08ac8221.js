import{_ as M,h as o,c as n,n as W,a as d,d as V,e as w,w as S,q as k,t as h,F as f,Q as oe,r as z,S as se,U as re,b as T,f as x,p as ne,j as ie,m as ue,x as y,o as Ne,i as ae,V as Le,k as Je,y as Xe,G as Pe,R as Ye,W as Se,O as Ie,L as Ze,u as qe,v as Te,s as le,M as et,X as tt,T as lt,B as at,l as ot,Y as Ee,Z as st,D as rt}from"./index.cba3b563.js";import{c as xe,e as nt}from"./helpers.6a12a23c.js";import{A as it}from"./AdvancedSearch.dea55ddc.js";import{P as ut,S as ct}from"./SortableTabularList.a563f689.js";import{E as pt,L as dt}from"./LoadingMessage.4d3be192.js";import{_ as vt}from"./MapClient.vue_vue_type_script_setup_true_lang.4fbcc6d6.js";const ht={},ft={class:"tooltip"},bt={class:"tooltip-text"};function mt(b,t){return o(),n("span",ft,[W(b.$slots,"default",{},void 0,!0),d("span",bt,[W(b.$slots,"text",{},void 0,!0)])])}const ce=M(ht,[["render",mt],["__scopeId","data-v-5b46f6b0"]]),_t=["href"],gt=V({__name:"PredCell",props:{iri:null,qname:null,label:null,description:null,explanation:null},setup(b){const t=b;return(u,P)=>(o(),n("th",null,[(o(),w(oe(t.description?ce:"slot"),null,{text:S(()=>[k(h(t.description),1)]),default:S(()=>[d("a",{href:t.iri,target:"_blank",rel:"noopener noreferrer"},[t.label?(o(),n(f,{key:0},[k(h(t.label),1)],64)):t.qname?(o(),n(f,{key:1},[k(h(t.qname),1)],64)):(o(),n(f,{key:2},[k(h(t.iri),1)],64))],8,_t)]),_:1}))]))}}),kt=b=>(ne("data-v-22deab1f"),b=b(),ie(),b),Ct={class:"prop-obj"},yt={class:"obj-value"},jt={key:0},$t=["href"],wt=["href"],Pt={key:1,class:"geom-cell"},Tt=kt(()=>d("i",{class:"fa-regular fa-clipboard"},null,-1)),Et=[Tt],Nt={class:"obj-tag"},Lt={key:0,class:"badge outline",title:"Language"},St=["href"],It=V({__name:"ObjCell",props:{value:null,qname:null,datatype:null,language:null,description:null,explanation:null,termType:null,label:null,rows:null},setup(b){const t=b,u=["http://www.opengis.net/ont/geosparql#geoJSONLiteral","http://www.opengis.net/ont/geosparql#wktLiteral"],P=100;return(s,j)=>(o(),n("div",Ct,[d("div",yt,[t.termType==="BlankNode"?(o(),n("table",jt,[(o(!0),n(f,null,z(t.rows,m=>(o(),w(Re,se(re(m)),null,16))),256))])):t.termType==="NamedNode"?(o(),w(oe(t.description?ce:"slot"),{key:1},{text:S(()=>[k(h(t.description),1)]),default:S(()=>[d("a",{href:t.value,target:"_blank",rel:"noopener noreferrer"},[t.label?(o(),n(f,{key:0},[k(h(t.label),1)],64)):t.qname?(o(),n(f,{key:1},[k(h(t.qname),1)],64)):(o(),n(f,{key:2},[k(h(t.value),1)],64))],8,$t)]),_:1})):(o(),n(f,{key:2},[t.value.startsWith("http")?(o(),n("a",{key:0,href:t.value,target:"_blank",rel:"noopener noreferrer"},h(t.value),9,wt)):t.datatype&&u.includes(t.datatype.value)?(o(),n("div",Pt,[d("pre",null,h(t.value.length>P?`${t.value.slice(0,P)}...`:t.value),1),d("button",{class:"btn outline sm",title:"Copy geometry",onClick:j[0]||(j[0]=m=>T(xe)(t.value))},Et)])):(o(),n(f,{key:2},[k(h(t.value),1)],64))],64))]),d("div",Nt,[t.language?(o(),n("span",Lt,h(t.language),1)):t.datatype?(o(),n("a",{key:1,href:t.datatype.value,target:"_blank",rel:"noopener noreferrer",class:"badge outline",title:"Datatype"},[t.datatype.qname?(o(),n(f,{key:0},[k(h(t.datatype.qname),1)],64)):(o(),n(f,{key:1},[k(h(t.datatype.value),1)],64))],8,St)):x("",!0)])]))}});const xt=M(It,[["__scopeId","data-v-22deab1f"]]),Rt={class:"prop-objs"},At=V({__name:"PropRow",props:{iri:null,objs:null,qname:null,label:null,description:null,explanation:null,order:null},setup(b){const t=b;return(u,P)=>(o(),n("tr",null,[ue(gt,{iri:t.iri,qname:t.qname,label:t.label,description:t.description,explanation:t.explanation},null,8,["iri","qname","label","description","explanation"]),d("td",Rt,[(o(!0),n(f,null,z(t.objs,s=>(o(),w(xt,se(re(s)),null,16))),256))])]))}});const Re=M(At,[["__scopeId","data-v-3863cf0a"]]),pe=b=>(ne("data-v-974c65c3"),b=b(),ie(),b),Dt={class:"page-title"},Bt={class:"iri"},Ot=pe(()=>d("span",{class:"badge"},"IRI",-1)),zt=["href"],Ut=pe(()=>d("i",{class:"fa-regular fa-clipboard"},null,-1)),Ft=[Ut],Mt={class:"type"},Vt=pe(()=>d("span",{class:"badge"},"Type",-1)),Qt={class:"types"},Gt=["href"],Wt={key:0},Kt={key:0},Ht=V({__name:"PropTable",props:{item:null,properties:null,blankNodes:null,prefixes:null,hiddenPreds:null},setup(b){const t=b,u=y([]);function P(C){let _="";return Object.entries(t.prefixes).forEach(([e,L])=>{C.startsWith(L)&&(_=e+":"+C.split(L)[1])}),_}function s(C){if(C==="a")return t.prefixes.rdf+"type";{const[_,e]=C.split(":");return t.prefixes[_]+e}}function j(C,_){return C.annotations.find(e=>e.predicate.value===s(_))?.object.value}function m(C){let _={};return C.forEach(e=>{var L;_[L=e.predicate.value]??(_[L]={iri:e.predicate.value,objs:[],qname:P(e.predicate.value),label:j(e.predicate,"rdfs:label"),description:j(e.predicate,"dcterms:description"),explanation:j(e.predicate,"dcterms:provenance"),order:0}),_[e.predicate.value].objs.push({value:e.object.value,qname:e.object.termType==="NamedNode"?P(e.object.value):void 0,datatype:e.object.termType==="Literal"?{value:e.object.datatype.value,qname:P(e.object.datatype.value)}:void 0,language:e.object.termType==="Literal"?e.object.language:void 0,termType:e.object.termType,label:j(e.object,"rdfs:label"),description:j(e.object,"dcterms:description"),explanation:j(e.object,"dcterms:provenance"),rows:e.object.termType==="BlankNode"?m(t.blankNodes.filter(A=>A.subject.id===e.object.id)):[]})}),Object.values(_).sort((e,L)=>e.order-L.order)}return Ne(()=>{const C=t.properties.filter(_=>!t.hiddenPreds.includes(_.predicate.value));u.value=m(C)}),(C,_)=>(o(),n(f,null,[d("h1",Dt,[k(h(t.item.title||t.item.iri)+" ",1),d("small",Bt,[Ot,d("a",{href:t.item.iri,target:"_blank",rel:"noopener noreferrer"},h(t.item.iri),9,zt),d("button",{class:"btn outline sm",title:"Copy IRI",onClick:_[0]||(_[0]=e=>T(xe)(t.item.iri))},Ft)]),d("small",Mt,[Vt,d("div",Qt,[(o(!0),n(f,null,z(t.item.types,(e,L)=>(o(),n(f,null,[(o(),w(oe(e.description?ce:"slot"),null,{text:S(()=>[k(h(e.description),1)]),default:S(()=>[d("a",{href:e.value,target:"_blank",rel:"noopener noreferrer"},[e.label?(o(),n(f,{key:0},[k(h(e.label),1)],64)):e.qname?(o(),n(f,{key:1},[k(h(e.qname),1)],64)):(o(),n(f,{key:2},[k(h(e.value),1)],64))],8,Gt)]),_:2},1024)),L<t.item.types.length-1?(o(),n("span",Wt,", ")):x("",!0)],64))),256))])])]),W(C.$slots,"map",{},void 0,!0),t.item.description?(o(),n("p",Kt,[d("em",null,h(t.item.description),1)])):x("",!0),d("table",null,[W(C.$slots,"top",{},void 0,!0),(o(!0),n(f,null,z(u.value,e=>(o(),w(Re,se(re(e)),null,16))),256)),W(C.$slots,"bottom",{},void 0,!0)])],64))}});const Jt=M(Ht,[["__scopeId","data-v-974c65c3"]]),Xt={class:"concept-top"},Yt={key:1,class:"concept-left"},Zt=V({__name:"ConceptComponent",props:{iri:null,title:null,link:null,childrenCount:null,children:null,narrower:null,broader:null,baseUrl:null,collapseAll:{type:Boolean},parentPath:null,doNarrowerEmits:{type:Boolean}},emits:["getNarrowers"],setup(b,{emit:t}){const u=b,P=ae(Le),s=y(!0),j=Je(()=>u.parentPath===""?u.iri:`${u.parentPath}|${u.iri}`);Xe(()=>u.collapseAll,(_,e)=>{s.value=_});function m(){s.value&&u.children.length===0&&u.childrenCount>0&&u.doNarrowerEmits&&t("getNarrowers",{iriPath:j.value,link:u.link,page:1}),s.value=!s.value}function C(){t("getNarrowers",{iriPath:j.value,link:u.link,page:Math.round(u.children.length/P)+1})}return(_,e)=>{const L=Ie("ConceptComponent",!0);return o(),n(f,null,[d("div",Xt,[u.childrenCount>0?(o(),n("button",{key:0,class:"concept-left btn outline",onClick:m},[d("i",{class:Pe(`fa-regular fa-${s.value?"plus":"minus"}`)},null,2)])):(o(),n("div",Yt)),ue(T(Ye),{class:"concept",to:u.link},{default:S(()=>[k(h(u.title||u.iri),1)]),_:1},8,["to"])]),u.childrenCount>0?(o(),n("div",{key:0,class:Pe(`concept-children ${s.value?"collapse":""}`)},[(o(!0),n(f,null,z(u.children,A=>(o(),w(L,Se(A,{baseUrl:u.baseUrl,collapseAll:u.collapseAll,parentPath:T(j),onGetNarrowers:e[0]||(e[0]=K=>t("getNarrowers",K)),doNarrowerEmits:u.doNarrowerEmits}),null,16,["baseUrl","collapseAll","parentPath","doNarrowerEmits"]))),256)),u.children.length>0&&u.childrenCount>u.children.length&&u.doNarrowerEmits?(o(),n("button",{key:0,class:"btn outline sm",onClick:C,style:{marginLeft:"26px"}}," Load more ")):x("",!0)],2)):x("",!0)],64)}}});const qt=M(Zt,[["__scopeId","data-v-034f0e79"]]),de=b=>(ne("data-v-50e0e094"),b=b(),ie(),b),el=de(()=>d("th",null,"Concepts",-1)),tl={class:"concepts"},ll=de(()=>d("i",{class:"fa-regular fa-plus"},null,-1)),al=de(()=>d("i",{class:"fa-regular fa-minus"},null,-1)),ol=V({__name:"PropTableView",setup(b){const{namedNode:t}=rt,u=ae(at),P=ae(Le),s=Ze(),j=qe(),{store:m,prefixes:C,parseIntoStore:_,qnameToIri:e,iriToQname:L}=Te(),{store:A,parseIntoStore:K,qnameToIri:D,clearStore:ve}=Te(),{data:Ae,profiles:q,loading:he,error:fe,doRequest:De}=le(),{data:Be,loading:sl,error:rl,doRequest:Oe}=le(),{data:be,loading:nl,error:il,doRequest:me}=le(),_e=[e("rdfs:label")],ze=[e("dcterms:description")],Ue=[e("geo:hasBoundingBox"),e("geo:hasGeometry")],Fe=[e("rdfs:member"),e("skos:member"),e("dcterms:hasPart")],Me=5,ee="lt-prfl:alt-profile",v=y({}),H=y([]),B=y([]),te=y([]),ge=y([]),J=y(!0),X=y([]),U=y(!1),Y=y(!1),R=y(null),Q=y(!1),G=y({}),ke=y(""),Z=y([e("a"),e("dcterms:identifier"),e("prez:count"),e("prez:childrenCount"),e("prez:link")]),O=y(null),E=y({showChildren:!1,childrenTitle:"",showButton:!1,buttonTitle:"",buttonLink:""}),F=y(!1);function N(a){switch(v.value.baseClass=a,a){case e("dcat:Catalog"):Q.value=!0,G.value={catalog:v.value.iri},E.value={...E.value,showChildren:!0,childrenTitle:"Resources"};break;case e("dcat:Resource"):break;case e("dcat:Dataset"):Q.value=!0,G.value={dataset:v.value.iri},E.value={showChildren:!1,showButton:!0,childrenTitle:"Members",buttonTitle:"Collections",buttonLink:"/collections"};break;case e("geo:FeatureCollection"):Q.value=!0,G.value={collection:v.value.iri},E.value={showChildren:!1,showButton:!0,childrenTitle:"Members",buttonTitle:"Features",buttonLink:"/items"};break;case e("geo:Feature"):break;case e("skos:ConceptScheme"):Q.value=!0,G.value={vocab:v.value.iri},Z.value.push(e("skos:hasTopConcept")),E.value.showChildren=!0;break;case e("skos:Collection"):E.value={...E.value,showChildren:!0,childrenTitle:"Concepts"};break;case e("skos:Concept"):break;case e("prof:Profile"):break}}function Ve(){const a=Y.value?t(s.query.uri):m.value.getSubjects(t(e("a")),t(v.value.baseClass),null)[0];v.value={iri:a.id,types:[]};const r=O.value.labelPredicates.length>0?O.value.labelPredicates:_e,i=O.value.descriptionPredicates.length>0?O.value.labelPredicates:ze;Z.value.push(...r,...i),m.value.forEach(l=>{if(r.includes(l.predicate.value))v.value.title=l.object.value;else if(i.includes(l.predicate.value))v.value.description=l.object.value;else if(Fe.includes(l.predicate.value))ke.value=l.predicate.value,Z.value.push(l.predicate.value);else if(l.predicate.value===e("a")){N(l.object.value);const c=m.value.getObjects(l.object,t(e("rdfs:label")),null),g=m.value.getObjects(l.object,t(e("dcterms:description")),null),p=L(l.object.value);v.value.types.push({value:l.object.value,qname:p!==""?p:void 0,label:c.length>0?c[0].value:void 0,description:g.length>0?g[0].value:void 0})}else Ue.indexOf(l.predicate.value)>=0?m.value.forEach(c=>{X.value.push({label:"",fcLabel:"",wkt:c.object.value,uri:v.value.iri,link:`/object?uri=${v.value.iri}`})},l.object,t(e("geo:asWKT")),null,null):l.predicate.value===e("prez:childrenCount")&&(v.value.childrenCount=Number(l.object.value));if(!U.value){const c=je(l,m.value);te.value.push(c);let g=0;$e(l,m.value,g)}},a,null,null,null),X.value.forEach(l=>{l.label=v.value.title?v.value.title:v.value.iri})}function Qe(){let a=[];if(Y.value)a.push({name:"Get Object by URI",url:"/object"});else{R.value&&a.push({name:ot(R.value)+" Home",url:`/${R.value[0].toLowerCase()}`});const r=s.path.split("/").slice(1,-1);let i=!1;r.forEach((l,c)=>{if(i){i=!1;return}switch(l){case"catalogs":a.push({name:"Catalogs",url:"/c/catalogs"}),c+1!==r.length&&(a.push({name:"Catalog",url:`/c/catalogs/${s.params.catalogId}`}),i=!0);break;case"datasets":a.push({name:"Datasets",url:"/s/datasets"}),c+1!==r.length&&(a.push({name:"Dataset",url:`/s/datasets/${s.params.datasetId}`}),i=!0);break;case"collections":a.push({name:"Feature Collections",url:`/s/datasets/${s.params.datasetId}/collections`}),c+1!==r.length&&(a.push({name:"Feature Collection",url:`/s/datasets/${s.params.datasetId}/collections/${s.params.featureCollectionId}`}),i=!0);break;case"items":a.push({name:"Features",url:`/s/datasets/${s.params.datasetId}/collections/${s.params.featureCollectionId}/items`});break;case"vocab":a.push({name:"Vocabularies",url:"/v/vocab"}),c+1!==r.length&&(a.push({name:"Vocabulary",url:`/v/vocab/${s.params.vocabId}`}),i=!0);break;case"collection":a.push({name:"Collections",url:"/v/collection"}),c+1!==r.length&&(a.push({name:"Collection",url:`/v/vocab/${s.params.collectionId}`}),i=!0);break;case"profiles":a.push({name:"Profiles",url:`${R.value?R.value[0].toLowerCase():""}/profiles`});break}})}return a.push({name:v.value.title||v.value.iri,url:s.path}),U.value&&a.push({name:"Alternate Profiles",url:`${s.path}?_profile=${ee}`}),a}function Ce(a){let r=a.split("#");return r.length===1?r[0].split("/").slice(-1)[0]:r.slice(-1)[0]}function Ge(){if(v.value.baseClass===e("skos:ConceptScheme"))F.value?We():ye();else{const a=O.value.labelPredicates.length>0?O.value.labelPredicates:_e;m.value.forObjects(r=>{let i={iri:r.id,extras:{}};m.value.forEach(l=>{if(a.includes(l.predicate.value))i.title=l.object.value;else if(l.predicate.value===e("prez:link"))i.link=l.object.value;else if(l.predicate.value===e("a"))i.baseClass=l.object.value;else if(v.value.baseClass===e("dcat:Catalog")&&l.predicate.value===e("dcterms:publisher")){const c={iri:l.object.value,label:Ce(l.object.value)};m.value.forObjects(g=>{c.label=g.value},l.object,e("rdfs:label"),null),i.extras.publisher=c}else if(v.value.baseClass===e("dcat:Catalog")&&l.predicate.value===e("dcterms:creator")){const c={iri:l.object.value,label:Ce(l.object.value)};m.value.forObjects(g=>{c.label=g.value},l.object,e("rdfs:label"),null),i.extras.creator=c}else if(v.value.baseClass===e("dcat:Catalog")&&l.predicate.value===e("dcterms:issued")){const c={label:l.object.value};i.extras.issued=c}},r,null,null,null),H.value.push(i)},t(v.value.iri),t(ke.value),null),H.value.sort((r,i)=>r.title&&i.title?r.title.localeCompare(i.title):r.title?-1:i.title?1:r.iri.localeCompare(i.iri))}}function We(){let a=[];m.value.forSubjects(p=>{let $={iri:p.id,narrower:[],broader:"",title:"",link:"",childrenCount:0,children:[]};m.value.forEach(I=>{I.predicate.value===e("skos:prefLabel")?$.title=I.object.value:I.predicate.value===e("prez:link")?$.link=I.object.value:I.predicate.value===e("skos:narrower")?$.narrower.push(I.object.value):I.predicate.value===e("skos:broader")&&($.broader=I.object.value)},p,null,null,null),$.childrenCount=$.narrower.length,a.push($)},t(e("skos:inScheme")),t(v.value.iri),null);const r=m.value.getObjects(t(v.value.iri),t(e("skos:hasTopConcept")),null).map(p=>p.id),i=m.value.getSubjects(t(e("skos:topConceptOf")),t(v.value.iri),null).map(p=>p.id),l=[...new Set([...r,...i])],c=a.reduce((p,$,I)=>(p[$.iri]=I,p),{});let g=[];a.forEach(p=>{if(p.narrower.length>0&&p.narrower.forEach($=>{a[c[$]].broader=p.iri}),l.includes(p.iri)){g.push(p);return}if(!!p.broader&&p.broader!==""){const $=a[c[p.broader]];$.children=[...$.children||[],p].sort((I,He)=>I.title.localeCompare(He.title)),$.childrenCount=$.children.length}}),g.sort((p,$)=>p.title.localeCompare($.title)),B.value=g}function ye(a=1){ve(),me(`${u}${s.path}/top-concepts?page=${a}&per_page=${P}`,()=>{K(be.value),A.value.forObjects(r=>{let i={iri:r.id,title:"",link:"",childrenCount:0,children:[]};A.value.forEach(l=>{l.predicate.value===D("skos:prefLabel")?i.title=l.object.value:l.predicate.value===D("prez:link")?i.link=l.object.value:l.predicate.value===D("prez:childrenCount")&&(i.childrenCount=Number(l.object.value))},r,null,null,null),B.value.push(i)},t(v.value.iri),t(D("skos:hasTopConcept")),null),B.value.sort((r,i)=>r.title.localeCompare(i.title))})}function Ke({iriPath:a,link:r,page:i=1}){ve(),me(`${u}${r}/narrowers?page=${i}&per_page=${P}`,()=>{let l;a.split("|").forEach((c,g)=>{g===0?l=B.value.find(p=>p.iri===c):l=l.children.find(p=>p.iri===c)}),K(be.value),A.value.forObjects(c=>{let g={iri:c.id,title:"",link:"",childrenCount:0,children:[]};A.value.forEach(p=>{p.predicate.value===D("skos:prefLabel")?g.title=p.object.value:p.predicate.value===D("prez:link")?g.link=p.object.value:p.predicate.value===D("prez:childrenCount")&&(g.childrenCount=Number(p.object.value))},c,null,null,null),l.children.push(g)},t(l.iri),t(D("skos:narrower")),null),l.children.sort((c,g)=>c.title.localeCompare(g.title))})}function je(a,r){return{subject:a.subject,predicate:{termType:a.predicate.termType,value:a.predicate.value,id:a.predicate.id,annotations:r.getQuads(a.predicate,null,null,null)},object:{termType:a.object.termType,value:a.object.value,id:a.object.id,datatype:a.object instanceof Ee?a.object.datatype:void 0,language:a.object instanceof Ee?a.object.language:void 0,annotations:r.getQuads(a.object,null,null,null)},value:a.value,graph:a.graph,termType:a.termType,equals:a.equals,toJSON:a.toJSON}}function $e(a,r,i){a.object instanceof st&&(i++,r.forEach(l=>{const c=je(l,r);ge.value.push(c),i<Me&&$e(l,r,i)},a.object,null,null,null))}et(()=>{s.path.startsWith("/c/")?(R.value="CatPrez",s.path.match(/c\/profiles\/.+/)?N(e("prof:Profile")):s.path.match(/c\/catalogs\/.+\/.+/)?N(e("dcat:Resource")):s.path.match(/c\/catalogs\/.+/)&&N(e("dcat:Catalog"))):s.path.startsWith("/s/")?(R.value="SpacePrez",s.path.match(/s\/profiles\/.+/)?N(e("prof:Profile")):s.path.match(/s\/datasets\/.+\/collections\/.+\/items\/.+/)?N(e("geo:Feature")):s.path.match(/s\/datasets\/.+\/collections\/.+/)?N(e("geo:FeatureCollection")):s.path.match(/s\/datasets\/.+/)&&N(e("dcat:Dataset"))):s.path.startsWith("/v/")?(R.value="VocPrez",s.path.match(/v\/profiles\/.+/)?N(e("prof:Profile")):s.path.match(/v\/vocab\/.+\/.+/)||s.path.match(/v\/collection\/.+\/.+/)?N(e("skos:Concept")):s.path.match(/v\/vocab\/.+/)?N(e("skos:ConceptScheme")):s.path.match(/v\/collection\/.+/)&&N(e("skos:Collection"))):s.path.startsWith("/profiles/")?N(e("prof:Profile")):s.path.startsWith("/object")&&(Y.value=!0),s.query._profile===ee&&!s.query._mediatype&&(U.value=!0)});function we(){De(`${u}${F.value?s.path+"/all"+window.location.search:s.fullPath}`,()=>{O.value=j.profiles[q.value.find(a=>a.default).uri],s.query&&s.query._profile&&(s.query._mediatype||![O.value.token,ee].includes(s.query._profile))&&window.location.replace(`${u}${s.path}?_profile=${s.query._profile}${s.query._mediatype?`&_mediatype=${s.query._mediatype}`:""}`),U.value?j.rightNavConfig={enabled:!1}:j.rightNavConfig={enabled:!0,profiles:q.value,currentUrl:s.path},_(Ae.value),Ve(),!U.value&&E.value.showChildren&&Ge(),document.title=v.value.title?`${v.value.title} | Prez`:"Prez",j.breadcrumbs=Qe()})}return Ne(()=>{he.value=!0,nt().then(()=>{console.log("profiles ready"),v.value.baseClass===e("skos:ConceptScheme")?Oe(`${u}/count?curie=${s.path.split("/").slice(-1)[0]}&inbound=${encodeURIComponent(e("skos:inScheme"))}`,()=>{parseInt(Be.value.replace('"',""))<=P&&(F.value=!0),we()}):we()})}),(a,r)=>{const i=Ie("RouterLink");return U.value?(o(),w(ut,{key:0,profiles:T(q),path:T(s).path},null,8,["profiles","path"])):(o(),n(f,{key:1},[te.value.length>0?(o(),w(Jt,{key:0,item:v.value,properties:te.value,blankNodes:ge.value,prefixes:T(C),hiddenPreds:Z.value},tt({map:S(()=>[X.value.length?(o(),w(vt,{key:0,ref:"searchMapRef","geo-w-k-t":X.value},null,8,["geo-w-k-t"])):x("",!0)]),_:2},[v.value.baseClass===T(e)("skos:ConceptScheme")?{name:"bottom",fn:S(()=>[d("tr",null,[el,d("td",null,[d("div",tl,[F.value?(o(),n("button",{key:0,id:"collapse-all-btn",onClick:r[0]||(r[0]=l=>J.value=!J.value),class:"btn"},[J.value?(o(),n(f,{key:0},[ll,k(" Expand all")],64)):(o(),n(f,{key:1},[al,k(" Collapse all")],64))])):x("",!0),(o(!0),n(f,null,z(B.value,l=>(o(),w(qt,Se(l,{baseUrl:T(s).path,collapseAll:J.value,parentPath:"",doNarrowerEmits:!F.value,onGetNarrowers:r[1]||(r[1]=c=>Ke(c))}),null,16,["baseUrl","collapseAll","doNarrowerEmits"]))),256))]),!F.value&&B.value.length>0&&v.value.childrenCount>B.value.length?(o(),n("button",{key:0,class:"btn outline sm",onClick:r[2]||(r[2]=l=>ye(Math.round(B.value.length/T(P))+1)),style:{marginLeft:"26px"}}," Load more ")):x("",!0)])])]),key:"0"}:E.value.showChildren?{name:"bottom",fn:S(()=>[d("tr",null,[d("th",null,h(E.value.childrenTitle),1),v.value.baseClass===T(e)("dcat:Catalog")?(o(),w(ct,{key:0,items:H.value,predicates:["publisher","creator","issued"]},null,8,["items"])):(o(),n("td",{key:1},[d("div",{class:"children-list"},[(o(!0),n(f,null,z(H.value,l=>(o(),w(i,{to:l.link||""},{default:S(()=>[k(h(l.title||l.iri),1)]),_:2},1032,["to"]))),256))])]))])]),key:"1"}:E.value.showButton&&!Y.value?{name:"bottom",fn:S(()=>[d("tr",null,[d("th",null,h(E.value.childrenTitle),1),d("td",null,[ue(i,{to:`${T(s).path}${E.value.buttonLink}`,class:"btn"},{default:S(()=>[k(h(E.value.buttonTitle),1)]),_:1},8,["to"])])])]),key:"2"}:void 0]),1032,["item","properties","blankNodes","prefixes","hiddenPreds"])):T(he)?(o(),w(dt,{key:1})):T(fe)?(o(),w(pt,{key:2,message:T(fe)},null,8,["message"])):x("",!0),Q.value?(o(),w(lt,{key:3,to:"#right-bar-content"},[R.value?(o(),w(it,{key:0,flavour:R.value,query:G.value},null,8,["flavour","query"])):x("",!0)])):x("",!0)],64))}}});const fl=M(ol,[["__scopeId","data-v-50e0e094"]]);export{fl as default};
