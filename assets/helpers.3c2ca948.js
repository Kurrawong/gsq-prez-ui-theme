import{d as L,u as N,k as g,c as a,a as n,F as f,r as k,b as h,h as s,m as b,w as v,q as m,t as u,f as $,p as C,j as P,N as B,_ as y,x as j,e as A,R as O,O as D}from"./index.818176dd.js";const I=l=>(C("data-v-a6a35b1b"),l=l(),P(),l),F=I(()=>n("h1",{class:"page-title"},"Alternate Profiles",-1)),M=I(()=>n("tr",null,[n("th",null,"Token"),n("th",null,"Name"),n("th",null,"Formats"),n("th",null,"Description"),n("th",null,"Namespace")],-1)),R={key:0,class:"badge",title:"This is the default profile for this endpoint"},V={key:0,class:"badge",title:"This is the default format for this profile"},z=["href"],W=L({__name:"ProfilesTable",props:{profiles:null,path:null},setup(l){const c=l,i={"text/html":"HTML","application/json":"JSON","application/ld+json":"JSON-LD","text/turtle":"Turtle","application/rdf+xml":"RDF/XML","text/csv":"CSV","application/geo+json":"GeoJSON"},d=N(),x=g(()=>{const _=c.profiles.find(t=>t.default);if(_===void 0)throw new TypeError("A default profile must exist.");return _.token}),w=g(()=>{const _=c.profiles.map(t=>t.token);return Object.values(d.profiles).filter(t=>_.includes(t.token)).sort((t,r)=>Number(r.token===x.value)-Number(t.token===x.value)).sort((t,r)=>Number(t.namespace==="http://www.w3.org/ns/dx/conneg/altr-ext#alt-profile")-Number(r.namespace==="http://www.w3.org/ns/dx/conneg/altr-ext#alt-profile"))});return(_,t)=>{const r=B("RouterLink");return s(),a(f,null,[F,n("table",null,[M,(s(!0),a(f,null,k(h(w),e=>(s(),a("tr",null,[n("td",null,[b(r,{to:`${c.path}?_profile=${e.token}`,title:"Get profile representation"},{default:v(()=>[m(u(e.token),1)]),_:2},1032,["to"]),e.token===h(x)?(s(),a("span",R,"default")):$("",!0)]),n("td",null,[b(r,{to:`/profiles/${e.token}`,title:"Go to profile page"},{default:v(()=>[m(u(e.title),1)]),_:2},1032,["to"])]),n("td",null,[(s(!0),a(f,null,k(e.mediatypes,o=>(s(),a("div",null,[b(r,{to:`${c.path}?_profile=${e.token}&_mediatype=${o}`},{default:v(()=>[m(u(i[o]||o),1)]),_:2},1032,["to"]),o===e.defaultMediatype?(s(),a("span",V,"default")):$("",!0)]))),256))]),n("td",null,u(e.description),1),n("td",null,[n("a",{href:e.namespace,target:"_blank"},u(e.namespace),9,z)])]))),256))])],64)}}});const ce=y(W,[["__scopeId","data-v-a6a35b1b"]]),G={key:0,class:"fa-solid fa-arrow-up-a-z"},J={key:1,class:"fa-solid fa-arrow-down-z-a"},E={key:2,class:"fa-thin fa-arrow-up-a-z"},U=L({__name:"ItemListSortButton",props:{id:null,state:{type:[Boolean,null]}},setup(l){return(c,i)=>(s(),a("span",{class:"pointer",onClick:i[0]||(i[0]=d=>c.$emit("clicked",l.id))},[l.state===!0?(s(),a("i",G)):l.state===!1?(s(),a("i",J)):(s(),a("i",E))]))}});const q=y(U,[["__scopeId","data-v-01076186"]]),H={class:"table",role:"grid"},K={role:"row"},X={class:"row",role:"row"},Z={key:1},Q={key:2},Y=["href"],ee=L({__name:"SortableTabularList",props:{items:null,predicates:null},setup(l){const c=l,i=j("title-asc"),d=g(()=>["title",...c.predicates]),x=g(()=>{const[t,r]=i.value.split("-"),e=r==="asc";return c.items.sort((o,p)=>{if(t==="title"||t==="description")return o[t]&&p[t]?e?o[t].localeCompare(p[t]):p[t].localeCompare(o[t]):o[t]?e?-1:1:p[t]?e?1:-1:0;if(o.extras[t]&&p.extras[t]){const T=o.extras[t].label,S=p.extras[t].label;return e?T.localeCompare(S):S.localeCompare(T)}else return o.extras[t]?e?-1:1:p.extras[t]?e?1:-1:0})});function w(t){i.value.startsWith(t)?i.value=`${t}-${i.value.endsWith("asc")?"desc":"asc"}`:i.value=`${t}-asc`}function _(t){const r=t.replace(/([A-Z])/g," $1");return r.charAt(0).toUpperCase()+r.slice(1)}return(t,r)=>(s(),a("table",H,[n("thead",null,[n("tr",K,[(s(!0),a(f,null,k(h(d),e=>(s(),a("th",null,[m(u(_(e))+"\xA0 ",1),b(q,{id:e,state:i.value.startsWith(e)?i.value.endsWith("asc"):null,onClicked:r[0]||(r[0]=o=>w(o))},null,8,["id","state"])]))),256))])]),n("tbody",null,[(s(!0),a(f,null,k(h(x),e=>(s(),a("tr",X,[(s(!0),a(f,null,k(h(d),o=>(s(),a("td",null,[o==="title"?(s(),A(h(O),{key:0,to:e.link?e.link:""},{default:v(()=>[m(u(e.title||e.iri),1)]),_:2},1032,["to"])):o==="description"&&!!e.description?(s(),a("div",Z,u(e.description.substring(0,80)+"..."),1)):e.extras[o]?(s(),a("div",Q,[e.extras[o].iri?(s(),a("a",{key:0,href:e.extras[o].iri,target:"_blank",rel:"noopener noreferrer"},u(e.extras[o].label),9,Y)):(s(),a(f,{key:1},[m(u(e.extras[o].label),1)],64)),e.extras[o].color?(s(),a("span",{key:2,style:D({color:e.extras[o].color,marginLeft:"6px"}),class:"fa-solid fa-circle fa-2xs"},null,4)):$("",!0)])):$("",!0)]))),256))]))),256))])]))}});const ue=y(ee,[["__scopeId","data-v-c914986c"]]);const te={},se=l=>(C("data-v-5a41b7d3"),l=l(),P(),l),oe={class:"loading-message"},ae=se(()=>n("div",{class:"message"},[n("i",{class:"fa-regular fa-spinner-third fa-spin"}),n("span",null,"Loading...")],-1)),ne=[ae];function le(l,c){return s(),a("div",oe,ne)}const de=y(te,[["render",le],["__scopeId","data-v-5a41b7d3"]]),re=N();function _e(){return new Promise((l,c)=>{let i=setTimeout(c,2e4);(function d(){if(Object.keys(re.profiles).length>0)return clearTimeout(i),l();setTimeout(d,500)})()})}export{de as L,ce as P,ue as S,_e as e};
