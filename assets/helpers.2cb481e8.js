import{d as $,u as N,k as y,c as l,a as r,F as f,r as k,b as h,h as o,m as b,w as v,q as m,t as c,f as g,p as P,j as I,N as B,_ as T,x as j,e as A,R as O,O as D}from"./index.e25ce7c1.js";const C=i=>(P("data-v-a6a35b1b"),i=i(),I(),i),F=C(()=>r("h1",{class:"page-title"},"Alternate Profiles",-1)),R=C(()=>r("tr",null,[r("th",null,"Token"),r("th",null,"Name"),r("th",null,"Formats"),r("th",null,"Description"),r("th",null,"Namespace")],-1)),V={key:0,class:"badge",title:"This is the default profile for this endpoint"},z={key:0,class:"badge",title:"This is the default format for this profile"},W=["href"],G=$({__name:"ProfilesTable",props:{profiles:null,path:null},setup(i){const u=i,a={"text/html":"HTML","application/json":"JSON","application/ld+json":"JSON-LD","text/turtle":"Turtle","application/rdf+xml":"RDF/XML","text/csv":"CSV","application/geo+json":"GeoJSON"},d=N(),x=y(()=>{const _=u.profiles.find(t=>t.default);if(_===void 0)throw new TypeError("A default profile must exist.");return _.token}),w=y(()=>{const _=u.profiles.map(t=>t.token);return Object.values(d.profiles).filter(t=>_.includes(t.token)).sort((t,n)=>Number(n.token===x.value)-Number(t.token===x.value)).sort((t,n)=>Number(t.namespace==="http://www.w3.org/ns/dx/conneg/altr-ext#alt-profile")-Number(n.namespace==="http://www.w3.org/ns/dx/conneg/altr-ext#alt-profile"))});return(_,t)=>{const n=B("RouterLink");return o(),l(f,null,[F,r("table",null,[R,(o(!0),l(f,null,k(h(w),e=>(o(),l("tr",null,[r("td",null,[b(n,{to:`${u.path}?_profile=${e.token}`,title:"Get profile representation"},{default:v(()=>[m(c(e.token),1)]),_:2},1032,["to"]),e.token===h(x)?(o(),l("span",V,"default")):g("",!0)]),r("td",null,[b(n,{to:`/profiles/${e.token}`,title:"Go to profile page"},{default:v(()=>[m(c(e.title),1)]),_:2},1032,["to"])]),r("td",null,[(o(!0),l(f,null,k(e.mediatypes,s=>(o(),l("div",null,[b(n,{to:`${u.path}?_profile=${e.token}&_mediatype=${s}`},{default:v(()=>[m(c(a[s]||s),1)]),_:2},1032,["to"]),s===e.defaultMediatype?(o(),l("span",z,"default")):g("",!0)]))),256))]),r("td",null,c(e.description),1),r("td",null,[r("a",{href:e.namespace,target:"_blank"},c(e.namespace),9,W)])]))),256))])],64)}}});const oe=T(G,[["__scopeId","data-v-a6a35b1b"]]),J={key:0,class:"fa-solid fa-arrow-up-a-z"},M={key:1,class:"fa-solid fa-arrow-down-z-a"},E={key:2,class:"fa-thin fa-arrow-up-a-z"},U=$({__name:"ItemListSortButton",props:{id:null,state:{type:[Boolean,null]}},setup(i){return(u,a)=>(o(),l("span",{class:"pointer",onClick:a[0]||(a[0]=d=>u.$emit("clicked",i.id))},[i.state===!0?(o(),l("i",J)):i.state===!1?(o(),l("i",M)):(o(),l("i",E))]))}});const q=T(U,[["__scopeId","data-v-01076186"]]),H={class:"table",role:"grid"},K={role:"row"},X={class:"row",role:"row"},Z={key:1},Q={key:2},Y=["href"],ee=$({__name:"SortableTabularList",props:{items:null,predicates:null},setup(i){const u=i,a=j("title-asc"),d=y(()=>["title",...u.predicates]),x=y(()=>{const[t,n]=a.value.split("-"),e=n==="asc";return u.items.sort((s,p)=>{if(t==="title"||t==="description")return s[t]&&p[t]?e?s[t].localeCompare(p[t]):p[t].localeCompare(s[t]):s[t]?e?-1:1:p[t]?e?1:-1:0;if(s.extras[t]&&p.extras[t]){const S=s.extras[t].label,L=p.extras[t].label;return e?S.localeCompare(L):L.localeCompare(S)}else return s.extras[t]?e?-1:1:p.extras[t]?e?1:-1:0})});function w(t){a.value.startsWith(t)?a.value=`${t}-${a.value.endsWith("asc")?"desc":"asc"}`:a.value=`${t}-asc`}function _(t){const n=t.replace(/([A-Z])/g," $1");return n.charAt(0).toUpperCase()+n.slice(1)}return(t,n)=>(o(),l("table",H,[r("thead",null,[r("tr",K,[(o(!0),l(f,null,k(h(d),e=>(o(),l("th",null,[m(c(_(e))+"\xA0 ",1),b(q,{id:e,state:a.value.startsWith(e)?a.value.endsWith("asc"):null,onClicked:n[0]||(n[0]=s=>w(s))},null,8,["id","state"])]))),256))])]),r("tbody",null,[(o(!0),l(f,null,k(h(x),e=>(o(),l("tr",X,[(o(!0),l(f,null,k(h(d),s=>(o(),l("td",null,[s==="title"?(o(),A(h(O),{key:0,to:e.link?e.link:""},{default:v(()=>[m(c(e.title||e.iri),1)]),_:2},1032,["to"])):s==="description"&&!!e.description?(o(),l("div",Z,c(e.description.substring(0,80)+"..."),1)):e.extras[s]?(o(),l("div",Q,[e.extras[s].iri?(o(),l("a",{key:0,href:e.extras[s].iri,target:"_blank",rel:"noopener noreferrer"},c(e.extras[s].label),9,Y)):(o(),l(f,{key:1},[m(c(e.extras[s].label),1)],64)),e.extras[s].color?(o(),l("span",{key:2,style:D({color:e.extras[s].color,marginLeft:"6px"}),class:"fa-solid fa-circle fa-2xs"},null,4)):g("",!0)])):g("",!0)]))),256))]))),256))])]))}});const le=T(ee,[["__scopeId","data-v-c914986c"]]),te=N();function re(){return new Promise((i,u)=>{let a=setTimeout(u,2e4);(function d(){if(Object.keys(te.profiles).length>0)return clearTimeout(a),i();setTimeout(d,500)})()})}export{oe as P,le as S,re as e};
