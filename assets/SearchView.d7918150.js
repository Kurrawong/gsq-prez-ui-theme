import{d as q,u as k,q as R,s as x,v as f,x as C,o as w,c as d,l as A,a as i,F as h,r as B,f as I,K as V,g as l,e as j,w as L,k as N,t as P,p as U,h as $,i as z,A as E,L as F,_ as K}from"./index.2f0f5a6c.js";import{A as O}from"./AdvancedSearch.c0fd3635.js";const v=s=>(U("data-v-075df83b"),s=s(),$(),s),D=v(()=>i("h1",{class:"page-title"},"Advanced Search",-1)),G={key:0},H=v(()=>i("h2",null,"Results",-1)),M={class:"results"},T=q({__name:"SearchView",setup(s){const m=z(E),e=V(),n=k(),{data:g,loading:J,error:Q,doRequest:y}=R(),{store:_,prefixes:W,parseIntoStore:S,qname:u}=x(),b=f(e.query),o=f([]);function p(){e.query&&e.query.term&&(o.value=[],y(`${m}${e.fullPath}`,()=>{S(g.value),_.value.forSubjects(t=>{let a={uri:t.value};_.value.forEach(r=>{[u("skos:prefLabel"),u("dcterms:title"),u("rdfs:label")].includes(r.predicate.value)&&(a.label=r.object.value)},t,null,null,null),o.value.push(a)},null,null,null)}))}return C(()=>e.query,(t,a)=>{Object.keys(t).length>0&&t!==a&&p()},{deep:!0}),w(()=>{n.rightNavConfig={enabled:!1},document.title="Advanced Search | Prez",n.pageHeading={name:"Prez",url:"/"},n.breadcrumbs=[{name:"Advanced Search",url:"/search"}],Object.keys(e.query).length>0&&p()}),(t,a)=>{const r=F("RouterLink");return l(),d(h,null,[D,A(O,{query:b.value,fullPage:""},null,8,["query"]),o.value.length>0?(l(),d("div",G,[H,i("div",M,[(l(!0),d(h,null,B(o.value,c=>(l(),j(r,{class:"result",to:`/object?uri=${encodeURIComponent(c.uri)}`},{default:L(()=>[N(P(c.label||c.uri),1)]),_:2},1032,["to"]))),256))])])):I("",!0)],64)}}});const Z=K(T,[["__scopeId","data-v-075df83b"]]);export{Z as default};
