import{d as G,D as q,u as C,G as D,E as F,x as w,o as M,B as A,J as H,O as y,U as J,c as l,b as u,q as T,F as _,a,t as c,r as j,f as U,e as m,W as Q,h as e,w as W,R as K,p as X,j as Y,_ as Z}from"./index-e24ad5b5.js";import{E as S,L as $}from"./LoadingMessage-4a291b17.js";const b=f=>(X("data-v-c080926d"),f=f(),Y(),f),ee=b(()=>a("h1",{class:"page-title"},"Get Object by URI",-1)),te={key:0},se=b(()=>a("code",null,"?uri=https://some.uri.here",-1)),ae=b(()=>a("p",null,"Multiple links for this object were found. Please select one of the links below:",-1)),le={class:"object-heading"},ie={class:"object-title"},ne={class:"object-types"},oe={class:"badge"},ue={key:0},re=b(()=>a("p",null,"Links:",-1)),ce={class:"links"},de={class:"parent"},pe={class:"badge"},ve=b(()=>a("div",{class:"separator"},">",-1)),_e={class:"object"},he={class:"badge"},be=G({__name:"ObjectView",setup(f){const{namedNode:d}=Q,o=q(),k=C(),{store:i,parseIntoStore:E,qnameToIri:p}=D(),{loading:N,error:I,apiGetRequest:P}=F();w(null);const t=w({}),v=w([]);return M(async()=>{if(o.query&&o.query.uri){const{data:R,profiles:V}=await P(o.fullPath);if(R&&!I.value){E(R);const s=d(o.query.uri);if(v.value=i.value.getObjects(s,d(p("prez:link")),null).map(n=>n.value),v.value.length===1)A.push(v.value[0]);else if(v.value.length>1){t.value={iri:s.value,links:[],types:[]},await H(),t.value.title=y(s.value,i.value),t.value.description=J(s.value,i.value);const n=i.value.getObjects(s,d(p("dcterms:identifier")),null)[0].value;i.value.forEach(r=>{if(r.predicate.value===p("a"))t.value.types.push({iri:r.object.value,title:y(r.object.value,i.value)});else if(r.predicate.value===p("prez:link")){const g=i.value.getQuads(null,d(p("dcterms:identifier")),null,null).filter(h=>h.object.value!==n&&r.object.value.includes(h.object.value));if(g.length===1){let h=g[0].subject.value,O=g[0].object.value,z=r.object.value.split(O)[0]+O;const B=y(g[0].subject.value,i.value);let x=[];i.value.getObjects(d(h),d(p("a")),null).forEach(L=>{x.push({iri:L.value,title:y(L.value,i.value)})}),t.value.links.push({parentIri:h,parentLink:z,parentTypes:x,parentTitle:B,link:r.object.value})}}},s,null,null,null)}}}k.rightNavConfig={enabled:!1},document.title="Get Object by URI | Prez",k.pageHeading={name:"Prez",url:"/"},k.breadcrumbs=[{name:"Get Object by URI",url:"/object"}]}),(R,V)=>(e(),l(_,null,[ee,!u(o).query||!u(o).query.uri?(e(),l("p",te,[T("This page can be used to find objects by their URI (Uniform Resource Identifier) by adding "),se,T(" (for example) to the end of this page's URL.")])):v.value.length>1?(e(),l(_,{key:1},[ae,a("div",le,[a("h2",ie,c(t.value.title||t.value.iri),1),a("div",ne,[(e(!0),l(_,null,j(t.value.types,s=>(e(),l("span",oe,c(s.title||s.iri),1))),256))])]),t.value.description?(e(),l("p",ue,[a("em",null,c(t.value.description),1)])):U("",!0),re,a("div",ce,[(e(!0),l(_,null,j(t.value.links,s=>(e(),m(u(K),{class:"link",to:s.link},{default:W(()=>[a("div",de,[a("h4",null,c(s.parentTitle||s.parentIri),1),(e(!0),l(_,null,j(s.parentTypes,n=>(e(),l("span",pe,c(n.title||n.iri),1))),256))]),ve,a("div",_e,[a("h4",null,c(t.value.title||t.value.iri),1),(e(!0),l(_,null,j(t.value.types,n=>(e(),l("span",he,c(n.title||n.iri),1))),256))])]),_:2},1032,["to"]))),256))])],64)):u(N)?(e(),m($,{key:2})):u(I)?(e(),m(S,{key:3,message:u(I)},null,8,["message"])):u(o).query&&u(o).query.uri&&v.value.length===0?(e(),m(S,{key:4,message:"Not Found: This resource contains no links within Prez"})):U("",!0)],64))}});const ye=Z(be,[["__scopeId","data-v-c080926d"]]);export{ye as default};
