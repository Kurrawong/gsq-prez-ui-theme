import{_ as z,h as l,c as n,n as Z,a as t,d as F,e as I,w as P,q as f,t as _,F as h,W as _e,r as M,K as fe,L as me,C as be,f as S,b as N,X as Oe,p as Y,j as q,m as x,Y as ge,x as C,o as Ge,i as ne,Z as We,k as ie,y as ot,$ as Ve,a0 as ve,R as rt,D as nt,u as it,G as Me,E as he,H as ct,I as re,J as ut,O as V,Q as Fe,a1 as dt,S as pt,T as De,V as ht,M as vt,a2 as _t,l as ft,U as J,a3 as ze,a4 as mt,a5 as bt}from"./index-b30f1d84.js";import{P as gt}from"./SortableTabularList.vue_vue_type_style_index_0_scoped_c914986c_lang-1ed53b1a.js";import{E as kt,L as yt}from"./LoadingMessage-e2ab0b21.js";import{_ as Ct}from"./MapClient.vue_vue_type_script_setup_true_lang-d471bb9a.js";import{B as Qe}from"./BaseModal-381697aa.js";const $t={},wt={class:"tooltip"},It={class:"tooltip-text"};function Pt(d,e){return l(),n("span",wt,[Z(d.$slots,"default",{},void 0,!0),t("span",It,[Z(d.$slots,"text",{},void 0,!0)])])}const ke=z($t,[["render",Pt],["__scopeId","data-v-5b46f6b0"]]),St=["href"],Tt=F({__name:"PredicateCell",props:{iri:{},termType:{},id:{},qname:{},label:{},description:{},provenance:{}},setup(d){const e=d;return(o,w)=>(l(),n("th",null,[(l(),I(_e(e.description?ke:"slot"),null,{text:P(()=>[f(_(e.description),1)]),default:P(()=>[t("a",{href:e.iri,target:"_blank",rel:"noopener noreferrer"},[e.label?(l(),n(h,{key:0},[f(_(e.label),1)],64)):e.qname?(l(),n(h,{key:1},[f(_(e.qname),1)],64)):(l(),n(h,{key:2},[f(_(e.iri),1)],64))],8,St)]),_:1}))]))}}),xt=d=>(Y("data-v-78b0f5a4"),d=d(),q(),d),Et={class:"prop-obj"},jt={class:"obj-value"},Rt={key:0},Nt=["href"],At=["href"],Lt={key:2,class:"geom-cell"},Bt=xt(()=>t("i",{class:"fa-regular fa-clipboard"},null,-1)),Mt=[Bt],Ft={key:3},Dt={class:"obj-tag"},zt={key:0,class:"badge outline",title:"Language"},Ut=["href"],Ue=100,Ot=F({__name:"ObjectCell",props:{predicateIri:{},rows:{},id:{},value:{},termType:{},qname:{},language:{},datatype:{},label:{},description:{},provenance:{}},setup(d){const e=d,o=["http://www.opengis.net/ont/geosparql#geoJSONLiteral","http://www.opengis.net/ont/geosparql#wktLiteral"];return(w,y)=>(l(),n("div",Et,[t("div",jt,[e.termType==="BlankNode"?(l(),n("table",Rt,[(l(!0),n(h,null,M(e.rows,v=>(l(),I(He,fe(me(v)),null,16))),256))])):e.termType==="NamedNode"?(l(),I(_e(e.description?ke:"slot"),{key:1},{text:P(()=>[f(_(e.description),1)]),default:P(()=>[t("a",{href:e.value,target:"_blank",rel:"noopener noreferrer"},[e.label?(l(),n(h,{key:0},[f(_(e.label),1)],64)):e.qname?(l(),n(h,{key:1},[f(_(e.qname),1)],64)):(l(),n(h,{key:2},[f(_(e.value),1)],64))],8,Nt)]),_:1})):(l(),n(h,{key:2},[e.predicateIri==="https://schema.org/color"?(l(),n(h,{key:0},[f(_(e.value),1),e.value?(l(),n("span",{key:0,style:be({color:e.value,marginLeft:"4px"}),class:"fa-solid fa-circle fa-2xs"},null,4)):S("",!0)],64)):e.value.startsWith("http")?(l(),n("a",{key:1,href:e.value,target:"_blank",rel:"noopener noreferrer"},_(e.value),9,At)):e.datatype&&o.includes(e.datatype.value)?(l(),n("div",Lt,[t("pre",null,_(e.value.length>Ue?`${e.value.slice(0,Ue)}...`:e.value),1),t("button",{class:"btn outline sm",title:"Copy geometry",onClick:y[0]||(y[0]=v=>N(Oe)(e.value))},Mt)])):e.datatype&&e.datatype.qname==="xsd:double"?(l(),n("div",Ft,_(Number(e.value)),1)):(l(),n(h,{key:4},[f(_(e.value),1)],64))],64))]),t("div",Dt,[e.language?(l(),n("span",zt,_(e.language),1)):e.datatype?(l(),n("a",{key:1,href:e.datatype.value,target:"_blank",rel:"noopener noreferrer",class:"badge outline",title:"Datatype"},[e.datatype.qname?(l(),n(h,{key:0},[f(_(e.datatype.qname),1)],64)):(l(),n(h,{key:1},[f(_(e.datatype.value),1)],64))],8,Ut)):S("",!0)])]))}});const Gt=z(Ot,[["__scopeId","data-v-78b0f5a4"]]),Wt={class:"prop-objs"},Vt=F({__name:"PropRow",props:{order:{},objects:{},iri:{},termType:{},id:{},qname:{},label:{},description:{},provenance:{}},setup(d){const e=d;return(o,w)=>(l(),n("tr",null,[x(Tt,{id:e.id,termType:e.termType,iri:e.iri,qname:e.qname,label:e.label,description:e.description,provenance:e.provenance},null,8,["id","termType","iri","qname","label","description","provenance"]),t("td",Wt,[(l(!0),n(h,null,M(e.objects,y=>(l(),I(Gt,ge(y,{predIri:e.iri}),null,16,["predIri"]))),256))])]))}});const He=z(Vt,[["__scopeId","data-v-f842f9a2"]]),ye=d=>(Y("data-v-703504d9"),d=d(),q(),d),Qt={class:"page-title"},Ht={class:"iri"},Kt=ye(()=>t("span",{class:"badge"},"IRI",-1)),Xt=["href"],Jt=ye(()=>t("i",{class:"fa-regular fa-clipboard"},null,-1)),Zt=[Jt],Yt={class:"type"},qt=ye(()=>t("span",{class:"badge"},"Type",-1)),ea={class:"types"},ta=["href"],aa={key:0},la={key:0},sa=F({__name:"PropTable",props:{item:{},properties:{},blankNodes:{},prefixes:{},hiddenPredicates:{}},setup(d){const e=d,o=C([]);function w(y){let v={};return y.forEach(a=>{var L;const{value:E,...k}=a.predicate;v[L=a.predicate.value]??(v[L]={iri:a.predicate.value,...k,order:0,objects:[]}),v[a.predicate.value].objects.push({...a.object,predicateIri:a.predicate.value,rows:a.object.termType==="BlankNode"?w(e.blankNodes.filter(X=>X.subject.id===a.object.id)):[]})}),Object.values(v).sort((a,E)=>a.order-E.order)}return Ge(()=>{const y=e.properties.filter(v=>!e.hiddenPredicates.includes(v.predicate.value));o.value=w(y)}),(y,v)=>(l(),n(h,null,[t("h1",Qt,[f(_(e.item.title||e.item.iri)+" ",1),t("small",Ht,[Kt,t("a",{href:e.item.iri,target:"_blank",rel:"noopener noreferrer"},_(e.item.iri),9,Xt),t("button",{class:"btn outline sm",title:"Copy IRI",onClick:v[0]||(v[0]=a=>N(Oe)(e.item.iri))},Zt)]),t("small",Yt,[qt,t("div",ea,[(l(!0),n(h,null,M(e.item.types,(a,E)=>(l(),n(h,null,[(l(),I(_e(a.description?ke:"slot"),null,{text:P(()=>[f(_(a.description),1)]),default:P(()=>[t("a",{href:a.value,target:"_blank",rel:"noopener noreferrer"},[a.label?(l(),n(h,{key:0},[f(_(a.label),1)],64)):a.qname?(l(),n(h,{key:1},[f(_(a.qname),1)],64)):(l(),n(h,{key:2},[f(_(a.value),1)],64))],8,ta)]),_:2},1024)),E<e.item.types.length-1?(l(),n("span",aa,", ")):S("",!0)],64))),256))])])]),Z(y.$slots,"map",{},void 0,!0),e.item.description?(l(),n("p",la,[t("em",null,_(e.item.description),1)])):S("",!0),t("table",null,[Z(y.$slots,"top",{},void 0,!0),(l(!0),n(h,null,M(o.value,a=>(l(),I(He,fe(me(a)),null,16))),256)),Z(y.$slots,"bottom",{},void 0,!0)])],64))}});const oa=z(sa,[["__scopeId","data-v-703504d9"]]),ra={class:"concept-top"},na={key:1,class:"concept-left"},ia=F({__name:"ConceptComponent",props:{baseUrl:{},collapseAll:{type:Boolean},parentPath:{},doNarrowerEmits:{type:Boolean},iri:{},title:{},link:{},childrenCount:{},children:{},narrower:{},broader:{},color:{}},emits:["getNarrowers"],setup(d,{emit:e}){const o=d,w=ne(We),y=C(!0),v=ie(()=>o.parentPath===""?o.iri:`${o.parentPath}|${o.iri}`);ot(()=>o.collapseAll,(k,L)=>{y.value=k});function a(){y.value&&o.children.length===0&&o.childrenCount>0&&o.doNarrowerEmits&&e("getNarrowers",{iriPath:v.value,link:o.link,page:1}),y.value=!y.value}function E(){e("getNarrowers",{iriPath:v.value,link:o.link,page:Math.round(o.children.length/w)+1})}return(k,L)=>{const X=Ve("ConceptComponent",!0);return l(),n(h,null,[t("div",ra,[o.childrenCount>0?(l(),n("button",{key:0,class:"concept-left btn outline",onClick:a},[t("i",{class:ve(`fa-regular fa-${y.value?"plus":"minus"}`)},null,2)])):(l(),n("div",na)),x(N(rt),{class:"concept",to:o.link},{default:P(()=>[f(_(o.title||o.iri),1)]),_:1},8,["to"]),f(),o.color?(l(),n("span",{key:2,style:be({color:o.color}),class:"fa-solid fa-circle fa-2xs"},null,4)):S("",!0)]),o.childrenCount>0?(l(),n("div",{key:0,class:ve(`concept-children ${y.value?"collapse":""}`)},[(l(!0),n(h,null,M(o.children,i=>(l(),I(X,ge(i,{baseUrl:o.baseUrl,collapseAll:o.collapseAll,parentPath:v.value,onGetNarrowers:L[0]||(L[0]=ee=>e("getNarrowers",ee)),doNarrowerEmits:o.doNarrowerEmits}),null,16,["baseUrl","collapseAll","parentPath","doNarrowerEmits"]))),256)),o.children.length>0&&o.childrenCount>o.children.length&&o.doNarrowerEmits?(l(),n("button",{key:0,class:"btn outline sm",onClick:E,style:{marginLeft:"26px"}}," Load more ")):S("",!0)],2)):S("",!0)],64)}}});const ca=z(ia,[["__scopeId","data-v-a15d0f1e"]]),ua={class:"circle-overlay"},da={class:"circle-value"},pa={key:1,class:"fa-solid fa-check"},ha=F({__name:"CircleProgress",props:{value:{},max:{},percentage:{},label:{},tickWhenComplete:{type:Boolean},gradient:{type:Boolean}},setup(d){const e=d,o=ie(()=>e.value!==void 0&&e.max!==void 0?e.value/e.max*100:e.percentage!==void 0?e.percentage:0),w=ie(()=>o.value<34?"230, 0, 0":o.value<=80?"255, 165, 0":o.value<100?"175, 230, 0":o.value==100?"0, 230, 38":"128, 128, 128"),y=ie(()=>`${o.value===100?130:75*o.value/100}, 100%, 45%`);return(v,a)=>(l(),n("div",{class:ve("circle-progress"),style:be({background:`conic-gradient(${e.gradient?`hsl(${y.value}`:`rgb(${w.value}`}) ${o.value}%, 0, ${e.gradient?`hsla(${y.value}`:`rgba(${w.value}`}, 0.2) ${100-o.value}%)`})},[t("div",ua,[t("span",da,[e.label?(l(),n(h,{key:0},[f(_(e.label),1)],64)):e.tickWhenComplete&&o.value===100?(l(),n("i",pa)):e.value!==void 0&&e.max!==void 0?(l(),n(h,{key:2},[f(_(e.value)+"/"+_(e.max),1)],64)):e.percentage!==void 0?(l(),n(h,{key:3},[f(_(e.percentage)+"%",1)],64)):S("",!0)])])],4))}});const B=z(ha,[["__scopeId","data-v-90bfb0c3"]]),R=d=>(Y("data-v-f7fa04e6"),d=d(),q(),d),va={class:"fair-scores"},_a={class:"score-title"},fa=R(()=>t("h5",null,"FAIR Score",-1)),ma=R(()=>t("i",{class:"fa-regular fa-circle-info"},null,-1)),ba=[ma],ga={class:"circles"},ka={class:"circle"},ya={class:"circle-name"},Ca=R(()=>t("h3",null,"FAIR Scores",-1)),$a=R(()=>t("p",null,[f("In 2016, the "),t("a",{href:"https://doi.org/10.1038/sdata.2016.18",target:"_blank",rel:"noopener noreferrer"},"'FAIR Guiding Principles for scientific data management and stewardship'"),f(" were published in the open-access journal, Scientific Data. The authors intended to provide guidelines to improve the Findability, Accessibility, Interoperability, and Reuse of digital assets.")],-1)),wa=R(()=>t("p",null,[f("The principles are set out in full on the "),t("a",{href:"https://www.go-fair.org/fair-principles/",target:"_blank",rel:"noopener noreferrer"},"GO FAIR website"),f(". ARDC also offers comprehensive "),t("a",{href:"https://ardc.edu.au/resource/fair-data/",target:"_blank",rel:"noopener noreferrer"},"information and training"),f(". The FAIR Principles refer to three types of entities: data, metadata and infrastructure. ")],-1)),Ia={class:"score-details"},Pa={class:"score-detail"},Sa={class:"score-detail-title"},Ta=R(()=>t("h4",null,"F - Findable",-1)),xa=R(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Metadata and data should be easy to find for both humans and computers.")],-1)),Ea={class:"score-detail"},ja={class:"score-detail-title"},Ra=R(()=>t("h4",null,"A - Accessible",-1)),Na=R(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Once data is found, access information needs to be clearly indicated on the metadata.")],-1)),Aa={class:"score-detail"},La={class:"score-detail-title"},Ba=R(()=>t("h4",null,"I - Interoperable",-1)),Ma=R(()=>t("div",{class:"score-detail-desc"},[t("p",null,"The data should be able to be integrated with other data.")],-1)),Fa={class:"score-detail"},Da={class:"score-detail-title"},za=R(()=>t("h4",null,"R - Reusable",-1)),Ua=R(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Metadata and data should be well-described so that they can be replicated and/or combined in different settings.")],-1)),Oa=F({__name:"FairScore",props:{score:{}},setup(d){const e=d,o={f:17,a:10,i:8,r:7},w=C(!1);return(y,v)=>(l(),n(h,null,[t("div",va,[t("div",_a,[fa,t("button",{class:"btn outline",onClick:v[0]||(v[0]=a=>w.value=!0),title:"Show details"},ba)]),t("div",ga,[(l(),n(h,null,M("fair",a=>t("div",ka,[x(B,{value:e.score[a],max:o[a],tickWhenComplete:""},null,8,["value","max"]),t("div",ya,_(a.toUpperCase()),1)])),64))])]),w.value?(l(),I(Qe,{key:0,onModalClosed:v[1]||(v[1]=a=>w.value=!1)},{headerMiddle:P(()=>[Ca]),default:P(()=>[$a,wa,t("div",Ia,[t("div",Pa,[t("div",Sa,[x(B,{value:e.score.f,max:o.f},null,8,["value","max"]),Ta]),xa]),t("div",Ea,[t("div",ja,[x(B,{value:e.score.a,max:o.a},null,8,["value","max"]),Ra]),Na]),t("div",Aa,[t("div",La,[x(B,{value:e.score.i,max:o.i},null,8,["value","max"]),Ba]),Ma]),t("div",Fa,[t("div",Da,[x(B,{value:e.score.r,max:o.r},null,8,["value","max"]),za]),Ua])])]),_:1})):S("",!0)],64))}});const Ga=z(Oa,[["__scopeId","data-v-f7fa04e6"]]),A=d=>(Y("data-v-21e18f40"),d=d(),q(),d),Wa={class:"care-scores"},Va={class:"score-title"},Qa=A(()=>t("h5",null,"CARE Score",-1)),Ha=A(()=>t("i",{class:"fa-regular fa-circle-info"},null,-1)),Ka=[Ha],Xa={class:"circles"},Ja={class:"circle"},Za={class:"circle-name"},Ya=A(()=>t("h3",null,"CARE Scores",-1)),qa=A(()=>t("p",null,[f("The CARE principles, developed by the "),t("a",{href:"https://www.gida-global.org/care",target:"_blank",rel:"noopener noreferrer"},"Global Indigenous Data Alliance (GIDA)"),f(", reflect the crucial role of data in advancing Indigenous innovation and self-determination. They ensure that data movements like the open data movement, whatever they're advocating and pursuing, respect the people and purpose behind the data.")],-1)),el={class:"score-details"},tl={class:"score-detail"},al={class:"score-detail-title"},ll=A(()=>t("h4",null,"C - Collective Benefit",-1)),sl=A(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Data ecosystems shall be designed and function in ways that enable Indigenous Peoples to derive benefit from the data.")],-1)),ol={class:"score-detail"},rl={class:"score-detail-title"},nl=A(()=>t("h4",null,"A - Authority to Control",-1)),il=A(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Indigenous Peoples' rights and interests in Indigenous data must be recognised and their authority to control such data be empowered.")],-1)),cl={class:"score-detail"},ul={class:"score-detail-title"},dl=A(()=>t("h4",null,"R - Responsibility",-1)),pl=A(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Those working with Indigenous data have a responsibility to share how those data are used to support Indigenous Peoples' self-determination and collective benefit.")],-1)),hl={class:"score-detail"},vl={class:"score-detail-title"},_l=A(()=>t("h4",null,"E - Ethics",-1)),fl=A(()=>t("div",{class:"score-detail-desc"},[t("p",null,"Indigenous Peoples' rights and wellbeing should be the primary concern at all stages of the data life cycle and across the data ecosystem.")],-1)),ml=F({__name:"CareScore",props:{score:{}},setup(d){const e=d,o={c:8,a:9,r:9,e:3},w=C(!1);return(y,v)=>(l(),n(h,null,[t("div",Wa,[t("div",Va,[Qa,t("button",{class:"btn outline",onClick:v[0]||(v[0]=a=>w.value=!0),title:"Show details"},Ka)]),t("div",Xa,[(l(),n(h,null,M("care",a=>t("div",Ja,[x(B,{value:e.score[a],max:o[a],tickWhenComplete:""},null,8,["value","max"]),t("div",Za,_(a.toUpperCase()),1)])),64))])]),w.value?(l(),I(Qe,{key:0,onModalClosed:v[1]||(v[1]=a=>w.value=!1)},{headerMiddle:P(()=>[Ya]),default:P(()=>[qa,t("div",el,[t("div",tl,[t("div",al,[x(B,{value:e.score.c,max:o.c},null,8,["value","max"]),ll]),sl]),t("div",ol,[t("div",rl,[x(B,{value:e.score.a,max:o.a},null,8,["value","max"]),nl]),il]),t("div",cl,[t("div",ul,[x(B,{value:e.score.r,max:o.r},null,8,["value","max"]),dl]),pl]),t("div",hl,[t("div",vl,[x(B,{value:e.score.e,max:o.e},null,8,["value","max"]),_l]),fl])])]),_:1})):S("",!0)],64))}});const bl=z(ml,[["__scopeId","data-v-21e18f40"]]),gl=F({__name:"ScoreWidget",props:{score:{},name:{}},setup(d){const e=d;return(o,w)=>e.name==="fair"?(l(),I(Ga,{key:0,score:o.score},null,8,["score"])):e.name==="care"?(l(),I(bl,{key:1,score:o.score},null,8,["score"])):S("",!0)}}),Ce=d=>(Y("data-v-54401866"),d=d(),q(),d),kl=Ce(()=>t("th",null,"Concepts",-1)),yl={class:"concepts"},Cl=Ce(()=>t("i",{class:"fa-regular fa-plus"},null,-1)),$l=Ce(()=>t("i",{class:"fa-regular fa-minus"},null,-1)),wl=5,Il=F({__name:"PropTableView",setup(d){const{namedNode:e,literal:o}=ht,w=ne(vt),y=ne(_t),v=ne(We),a=nt(),E=it(),{store:k,prefixes:L,parseIntoStore:X,qnameToIri:i,iriToQname:ee}=Me(),{store:Q,parseIntoStore:$e,qnameToIri:U,clearStore:we}=Me(),{loading:Ie,error:ce,apiGetRequest:Ke}=he(),{loading:Pl,error:Xe,apiGetRequest:Je}=he(),{loading:Sl,error:Pe,apiGetRequest:Se}=he(),Ze=[i("geo:hasBoundingBox"),i("geo:hasGeometry")],Ye=[i("rdfs:member"),i("skos:member"),i("dcterms:hasPart")],p=C({}),ue=C([]),O=C([]),de=C([]),Te=C([]),te=C(!0),pe=C([]),W=C(!1),ae=C(!1),G=C(null),H=C(!1),le=C({}),xe=C(""),se=C([i("a"),i("dcterms:identifier"),i("prez:count"),i("prez:childrenCount"),i("prez:link"),"https://linked.data.gov.au/def/scores/hasScore"]),Ee=C(null),j=C({showChildren:!1,childrenTitle:"",showButton:!1,buttonTitle:"",buttonLink:""}),oe=C(!1),je=C({}),K=C(!1),Re=C({});function T(s){switch(p.value.baseClass=s,s){case i("dcat:Catalog"):H.value=!0,le.value={catalog:p.value.iri},j.value={showChildren:!1,showButton:!0,childrenTitle:"Resources",buttonTitle:"Resources",buttonLink:"/resources"};break;case i("dcat:Resource"):break;case i("dcat:Dataset"):H.value=!0,le.value={dataset:p.value.iri},j.value={showChildren:!1,showButton:!0,childrenTitle:"Members",buttonTitle:"Collections",buttonLink:"/collections"};break;case i("geo:FeatureCollection"):H.value=!0,le.value={collection:p.value.iri},j.value={showChildren:!1,showButton:!0,childrenTitle:"Members",buttonTitle:"Features",buttonLink:"/items"};break;case i("geo:Feature"):break;case i("skos:ConceptScheme"):H.value=!0,le.value={vocab:p.value.iri},se.value.push(i("skos:hasTopConcept")),j.value.showChildren=!0;break;case i("skos:Collection"):H.value=!0,j.value={...j.value,showChildren:!0,childrenTitle:"Concepts"};break;case i("skos:Concept"):break;case i("prof:Profile"):break}}async function qe(){k.value.forEach(s=>{if(Ye.includes(s.predicate.value))xe.value=s.predicate.value,se.value.push(s.predicate.value);else if(s.predicate.value===i("a")){T(s.object.value);const u=V(s.object.value,k.value),c=Fe(s.object.value,k.value),r=ee(s.object.value);p.value.types.push({value:s.object.value,qname:r!==""?r:void 0,label:u,description:c})}else Ze.includes(s.predicate.value)?k.value.forEach(u=>{pe.value.push({label:p.value.title?p.value.title:p.value.iri,fcLabel:"",wkt:u.object.value,uri:p.value.iri,link:`/object?uri=${p.value.iri}`})},s.object,e(i("geo:asWKT")),null,null):s.predicate.value==="https://linked.data.gov.au/def/scores/hasScore"&&y&&!oe.value?oe.value=!0:s.predicate.value===i("prez:childrenCount")&&(p.value.childrenCount=Number(s.object.value));if(!W.value){const u=Le(s,k.value,L.value);de.value.push(u);let c=0;Be(s,k.value,c,L.value)}},e(p.value.iri),null,null,null),oe.value&&et()}function Ne(s,u=!1){const c={};return k.value.forObjects(r=>{k.value.forEach(m=>{k.value.forObjects($=>{k.value.forEach(b=>{const g=b.predicate.value.match(`https://linked.data.gov.au/def/scores/${s}([A-Z]){1}Score${u?"Normalised":""}`);g&&(c[g[1].toLowerCase()]=Number(b.object.value))},$,null,null,null)},m.subject,e("http://purl.org/linked-data/cube#observation"),null)},r,e(i("a")),e(`https://linked.data.gov.au/def/scores/${bt(s)}Score${u?"Normalised":""}`),null)},e(p.value.iri),e("https://linked.data.gov.au/def/scores/hasScore"),null),c}function et(){je.value={fair:Ne("fair"),care:Ne("care")}}function tt(){let s=[];const u=a.path.split("/").slice(1,-1);u.forEach(r=>{const m=k.value.getQuads(null,e(i("dcterms:identifier")),o(r,e(i("prez:identifier"))),null);if(m.length>0){let $={id:r,uri:m[0].subject.value};$.title=V(m[0].subject.value,k.value),s.push($)}});let c=[];if(ae.value)c.push({name:"Get Object by URI",url:"/object"});else{G.value&&c.push({name:ft(G.value)+" Home",url:`/${G.value[0].toLowerCase()}`});let r=!1;u.forEach((m,$)=>{if(r){r=!1;return}switch(m){case"catalogs":c.push({name:"Catalogs",url:"/c/catalogs"}),$+1!==u.length&&(c.push({name:s[0].title||s[0].uri,url:`/c/catalogs/${a.params.catalogId}`}),r=!0);break;case"resources":c.push({name:"Resources",url:`/c/catalogs/${a.params.catalogId}/resources`});break;case"datasets":c.push({name:"Datasets",url:"/s/datasets"}),$+1!==u.length&&(c.push({name:s[0].title||s[0].uri,url:`/s/datasets/${a.params.datasetId}`}),r=!0);break;case"collections":c.push({name:"Feature Collections",url:`/s/datasets/${a.params.datasetId}/collections`}),$+1!==u.length&&(c.push({name:s[1].title||s[1].uri,url:`/s/datasets/${a.params.datasetId}/collections/${a.params.featureCollectionId}`}),r=!0);break;case"items":c.push({name:"Features",url:`/s/datasets/${a.params.datasetId}/collections/${a.params.featureCollectionId}/items`});break;case"vocab":c.push({name:"Vocabularies",url:"/v/vocab"}),$+1!==u.length&&(c.push({name:s[0].title||s[0].uri,url:`/v/vocab/${a.params.vocabId}`}),r=!0);break;case"collection":c.push({name:"Collections",url:"/v/collection"}),$+1!==u.length&&(c.push({name:s[0].title||s[0].uri,url:`/v/collection/${a.params.collectionId}`}),r=!0);break;case"profiles":c.push({name:"Profiles",url:`${G.value?G.value[0].toLowerCase():""}/profiles`});break}})}return c.push({name:p.value.title||p.value.iri,url:a.path}),W.value&&c.push({name:"Alternate Profiles",url:`${a.path}?_profile=${re}`}),c}async function at(){p.value.baseClass===i("skos:ConceptScheme")?K.value?lt():Ae():(k.value.forObjects(s=>{let u={iri:s.id,extras:{}};u.title=V(s.value,k.value);const c=[];if(k.value.forEach(r=>{r.predicate.value===i("prez:link")?c.push(r.object.value):r.predicate.value===i("a")&&(u.baseClass=r.object.value)},s,null,null,null),c.length>1){let r=c.filter(m=>m.startsWith(a.path));r.length>0?u.link=r[0]:u.link=c[0]}else c.length===1&&(u.link=c[0]);ue.value.push(u)},e(p.value.iri),e(xe.value),null),ue.value.sort(J))}async function lt(){let s=[];k.value.forSubjects(b=>{let g={iri:b.id,narrower:[],broader:"",title:"",link:"",childrenCount:0,children:[]};g.title=V(b.value,k.value),k.value.forEach(D=>{D.predicate.value===i("prez:link")&&D.object.value.startsWith(a.path)?g.link=D.object.value:D.predicate.value===i("skos:narrower")?g.narrower.push(D.object.value):D.predicate.value===i("skos:broader")&&(g.broader=D.object.value)},b,null,null,null),g.childrenCount=g.narrower.length,s.push(g)},e(i("skos:inScheme")),e(p.value.iri),null);const u=k.value.getObjects(e(p.value.iri),e(i("skos:hasTopConcept")),null).map(b=>b.id),c=k.value.getSubjects(e(i("skos:topConceptOf")),e(p.value.iri),null).map(b=>b.id),r=[...new Set([...u,...c])],m=s.reduce((b,g,D)=>(b[g.iri]=D,b),{});let $=[];s.forEach(b=>{if(b.narrower.length>0&&b.narrower.forEach(g=>{s[m[g]].broader=b.iri}),r.includes(b.iri)){$.push(b);return}if(b.broader&&b.broader!==""){const g=s[m[b.broader]];g.children=[...g.children||[],b].sort(J),g.childrenCount=g.children.length}}),$.sort(J),O.value=$}async function Ae(s=1){we();const{data:u}=await Se(`${a.path}/top-concepts?page=${s}&per_page=${v}`);u&&!Pe.value&&($e(u),Q.value.forObjects(c=>{let r={iri:c.id,title:"",link:"",childrenCount:0,children:[],color:""};r.title=V(c.value,Q.value),Q.value.forEach(m=>{m.predicate.value===U("prez:link")?r.link=m.object.value:m.predicate.value===U("prez:childrenCount")?r.childrenCount=Number(m.object.value):m.predicate.value===U("sdo:color")&&(r.color=m.object.value)},c,null,null,null),O.value.push(r)},e(p.value.iri),e(U("skos:hasTopConcept")),null),O.value.sort(J))}async function st({iriPath:s,link:u,page:c=1}){let r;s.split("|").forEach(($,b)=>{b===0?r=O.value.find(g=>g.iri===$):r=r.children.find(g=>g.iri===$)}),we();const{data:m}=await Se(`${u}/narrowers?page=${c}&per_page=${v}`);m&&!Pe.value&&($e(m),Q.value.forObjects($=>{let b={iri:$.id,title:"",link:"",childrenCount:0,children:[],color:""};b.title=V($.value,Q.value),Q.value.forEach(g=>{g.predicate.value===U("prez:link")?b.link=g.object.value:g.predicate.value===U("prez:childrenCount")?b.childrenCount=Number(g.object.value):g.predicate.value===U("sdo:color")&&(b.color=g.object.value)},$,null,null,null),r.children.push(b)},e(r.iri),e(U("skos:narrower")),null),r.children.sort(J))}function Le(s,u,c){return{subject:s.subject,predicate:ze(s.predicate,u,c),object:ze(s.object,u,c)}}function Be(s,u,c,r){s.object instanceof mt&&(c++,u.forEach(m=>{const $=Le(m,u,r);Te.value.push($),c<wl&&Be(m,u,c,r)},s.object,null,null,null))}return ct(()=>{a.path.startsWith("/c/")?(G.value="CatPrez",a.path.match(/c\/profiles\/.+/)?T(i("prof:Profile")):a.path.match(/c\/catalogs\/.+\/resources\/.+/)?T(i("dcat:Resource")):a.path.match(/c\/catalogs\/.+/)&&T(i("dcat:Catalog"))):a.path.startsWith("/s/")?(G.value="SpacePrez",a.path.match(/s\/profiles\/.+/)?T(i("prof:Profile")):a.path.match(/s\/datasets\/.+\/collections\/.+\/items\/.+/)?T(i("geo:Feature")):a.path.match(/s\/datasets\/.+\/collections\/.+/)?T(i("geo:FeatureCollection")):a.path.match(/s\/datasets\/.+/)&&T(i("dcat:Dataset"))):a.path.startsWith("/v/")?(G.value="VocPrez",a.path.match(/v\/profiles\/.+/)?T(i("prof:Profile")):a.path.match(/v\/vocab\/.+\/.+/)||a.path.match(/v\/collection\/.+\/.+/)?T(i("skos:Concept")):a.path.match(/v\/vocab\/.+/)?T(i("skos:ConceptScheme")):a.path.match(/v\/collection\/.+/)&&T(i("skos:Collection"))):a.path.startsWith("/profiles/")?T(i("prof:Profile")):a.path.startsWith("/object")&&(ae.value=!0),a.query._profile===re&&!a.query._mediatype&&(W.value=!0)}),Ge(async()=>{if(Ie.value=!0,p.value.baseClass===i("skos:ConceptScheme")){const{data:r}=await Je(`/count?curie=${a.path.split("/").slice(-1)[0]}&inbound=${encodeURIComponent(i("skos:inScheme"))}`);r&&!Xe.value&&parseInt(r.replace('"',""))<=v&&(K.value=!0)}let s="";K.value?s=`${a.path}/all${window.location.search}`:s=a.fullPath,Object.keys(a.query).length>0&&W.value&&(s=s.replace(`_profile=${re}`,""));const{data:u,profiles:c}=await Ke(s);if(u&&c.length>0&&!ce.value){Ee.value=E.profiles[c.find(m=>m.current).uri],a.query&&a.query._profile&&(a.query._mediatype||![Ee.value.token,re].includes(a.query._profile))&&window.location.replace(`${w}${a.path}?_profile=${a.query._profile}${a.query._mediatype?`&_mediatype=${a.query._mediatype}`:""}`),E.rightNavConfig={enabled:!W.value,profiles:c,currentUrl:a.path},X(u);const r=ae.value?e(a.query.uri):k.value.getSubjects(e(i("a")),e(p.value.baseClass),null)[0];p.value.iri=r.value,p.value.types=[],Re.value={containerUri:r.value,containerBaseClass:ee(p.value.baseClass)},await ut(),se.value.push(...E.annotationPredicates.label,...E.annotationPredicates.description),p.value.title=V(p.value.iri,k.value),p.value.description=Fe(p.value.iri,k.value),W.value||(qe(),j.value.showChildren&&at()),document.title=p.value.title?`${p.value.title} | Prez`:"Prez",E.breadcrumbs=tt()}}),(s,u)=>{const c=Ve("RouterLink");return W.value?(l(),I(gt,{key:0})):(l(),n(h,{key:1},[de.value.length>0?(l(),I(oa,{key:0,item:p.value,properties:de.value,blankNodes:Te.value,prefixes:N(L),hiddenPredicates:se.value},dt({map:P(()=>[pe.value.length?(l(),I(Ct,{key:0,ref:"searchMapRef","geo-w-k-t":pe.value},null,8,["geo-w-k-t"])):S("",!0)]),_:2},[p.value.baseClass===N(i)("skos:ConceptScheme")?{name:"bottom",fn:P(()=>[t("tr",null,[kl,t("td",null,[t("div",yl,[K.value?(l(),n("button",{key:0,id:"collapse-all-btn",onClick:u[0]||(u[0]=r=>te.value=!te.value),class:"btn"},[te.value?(l(),n(h,{key:0},[Cl,f(" Expand all")],64)):(l(),n(h,{key:1},[$l,f(" Collapse all")],64))])):S("",!0),(l(!0),n(h,null,M(O.value,r=>(l(),I(ca,ge(r,{baseUrl:N(a).path,collapseAll:te.value,parentPath:"",doNarrowerEmits:!K.value,onGetNarrowers:u[1]||(u[1]=m=>st(m))}),null,16,["baseUrl","collapseAll","doNarrowerEmits"]))),256))]),!K.value&&O.value.length>0&&p.value.childrenCount>O.value.length?(l(),n("button",{key:0,class:"btn outline sm",onClick:u[2]||(u[2]=r=>Ae(Math.round(O.value.length/N(v))+1)),style:{marginLeft:"26px"}}," Load more ")):S("",!0)])])]),key:"0"}:j.value.showChildren?{name:"bottom",fn:P(()=>[t("tr",null,[t("th",null,_(j.value.childrenTitle),1),t("td",null,[t("div",{class:"children-list"},[(l(!0),n(h,null,M(ue.value,r=>(l(),I(c,{to:r.link||""},{default:P(()=>[f(_(r.title||r.iri),1)]),_:2},1032,["to"]))),256))])])])]),key:"1"}:j.value.showButton&&!ae.value?{name:"bottom",fn:P(()=>[t("tr",null,[t("th",null,_(j.value.childrenTitle),1),t("td",null,[x(c,{to:`${N(a).path}${j.value.buttonLink}`,class:"btn"},{default:P(()=>[f(_(j.value.buttonTitle),1)]),_:1},8,["to"])])])]),key:"2"}:void 0]),1032,["item","properties","blankNodes","prefixes","hiddenPredicates"])):N(Ie)?(l(),I(yt,{key:1})):N(ce)?(l(),I(kt,{key:2,message:N(ce)},null,8,["message"])):S("",!0),H.value?(l(),I(De,{key:3,to:"#search-teleport"},[x(pt,fe(me(Re.value)),null,16)])):S("",!0),N(y)&&oe.value?(l(),I(De,{key:4,to:"#score-teleport"},[(l(!0),n(h,null,M(Object.entries(je.value),([r,m])=>(l(),I(gl,{name:r,score:m},null,8,["name","score"]))),256))])):S("",!0)],64))}}});const Nl=z(Il,[["__scopeId","data-v-54401866"]]);export{Nl as default};
