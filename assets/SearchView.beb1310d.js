import{d as q,i as k,K as R,u as x,q as C,s as j,v as h,x as w,o as A,c as d,l as B,a as i,F as f,r as I,f as V,A as L,h as l,e as N,w as P,k as U,t as $,p as z,j as E,L as F,_ as K}from"./index.f0fef75a.js";import{A as O}from"./AdvancedSearch.74ba2741.js";const v=s=>(z("data-v-db92943d"),s=s(),E(),s),D=v(()=>i("h1",{class:"page-title"},"Advanced Search",-1)),G={key:0},H=v(()=>i("h2",null,"Results",-1)),M={class:"results"},T=q({__name:"SearchView",setup(s){const m=k(L),e=R(),n=x(),{data:g,loading:J,error:Q,doRequest:y}=C(),{store:_,prefixes:W,parseIntoStore:S,qname:u}=j(),b=h(e.query),o=h([]);function p(){e.query&&e.query.term&&(o.value=[],y(`${m}${e.fullPath}`,()=>{S(g.value),_.value.forSubjects(t=>{let a={uri:t.value};_.value.forEach(r=>{[u("skos:prefLabel"),u("dcterms:title"),u("rdfs:label")].includes(r.predicate.value)&&(a.label=r.object.value)},t,null,null,null),o.value.push(a)},null,null,null)}))}return w(()=>e.query,(t,a)=>{Object.keys(t).length>0&&t!==a&&p()},{deep:!0}),A(()=>{n.rightNavConfig={enabled:!1},document.title="Advanced Search | Prez",n.pageHeading={name:"Prez",url:"/"},n.breadcrumbs=[{name:"Advanced Search",url:"/search"}],Object.keys(e.query).length>0&&p()}),(t,a)=>{const r=F("RouterLink");return l(),d(f,null,[D,B(O,{query:b.value,fullPage:""},null,8,["query"]),o.value.length>0?(l(),d("div",G,[H,i("div",M,[(l(!0),d(f,null,I(o.value,c=>(l(),N(r,{class:"result",to:`/object?uri=${encodeURIComponent(c.uri)}`},{default:P(()=>[U($(c.label||c.uri),1)]),_:2},1032,["to"]))),256))])])):V("",!0)],64)}}});const Z=K(T,[["__scopeId","data-v-db92943d"]]);export{Z as default};
